groups {
    re0 {
        system {
            host-name MX960-LDG04NGA_RE0;
        }
        interfaces {
            fxp0 {
				description "Connect to MGT Cisco 7600 - OLD";					
                unit 0 {		
                    family inet {
                        address 10.70.255.254/30 {
                            master-only;
                        }
                    }
                }
            }
        }
    }
    re1 {
        system {
            host-name MX960-LDG04NGA_RE1;
        }
        interfaces {
            fxp0 {
				description "Connect to MGT Cisco 7600 - OLD";					
                unit 0 {
                    family inet {
                        address 10.70.255.254/30 {
                            master-only;
                        }
                    }
                }
            }
        }
    }
    PROTECT-RE-GROUP {
        interfaces {
            lo0 {
                unit <*> {
                    family inet {
                        filter {
                            input PROTECT-RE-FILTER;
                        }
                    }
                    inactive: family inet6 {
                        filter {
                            input v6-PROTECT-RE-FILTER;
                        }
                    }
                }
            }
        }
    }
    PING-VPLS {
        interfaces {
            lt-0/0/10 {
                unit 1 {
                    encapsulation ethernet;
                    peer-unit 2;
                    family inet {
                        /* Change IP according to Customer IP range */
                        address 192.168.254.100/24;
                    }
                }
                /* Put this IFL in VPLS instance that need to ping check in case without VLAN-ID in pseudowire */
                unit 2 {
                    encapsulation ethernet-vpls;
                    peer-unit 1;
                }
                unit 3 {
                    encapsulation vlan;
                    /* Change VLAN-ID according to Customer VLAN-ID */
                    vlan-id 100;
                    peer-unit 4;
                    family inet {
                        /* Change IP according to Customer IP range */
                        address 192.168.255.100/24;
                    }
                }
                /* Put this IFL in VPLS instance that need to ping check in case with VLAN-ID in pseudowire */
                unit 4 {
                    encapsulation vlan-vpls;
                    /* Change VLAN-ID according to Customer VLAN-ID */
                    vlan-id 100;
                    peer-unit 3;
                }
            }
        }
        routing-instances {
            VPLS-PING-NOVLAN {
                instance-type virtual-router;
                interface lt-0/0/10.1;
            }
            VPLS-PING-VLAN {
                instance-type virtual-router;
                interface lt-0/0/10.3;
            }
        }
    }
	BLOCK-BPDU-VPLS {
		firewall {
			family vpls {
				filter BLOCK-BPDU {
					term BLOCK-INVALID-BPDU {
						from {
							destination-mac-address {
								/* Bridging not allowed by 802.1D */
								01:80:c2:00:00:00/44;
								/* Bridge mgmt group address - Deprecated */
								01:80:c2:00:00:10/48;
								/* Cisco ISL */
								01:00:0c:00:00:00/48;
								/* Cisco CDP,VTP,PVST ... */
								01:00:0c:cc:cc:cc/47;
								/* Cisco inter-vlan bridging */
								01:00:0c:cc:cc:ce/48;
							}
						}
						then {
							count INVALID-BPDU;
							discard;
						}
					}
					term ACCEPT-REST {
						then accept;
					}
				}
			}
		}
		routing-instances {
			<L2-*> {
				forwarding-options {
					family vpls {
						filter {
							input BLOCK-BPDU;
						}
					}
				}
			}
		}
	}	
}
apply-groups [ re0 re1 BLOCK-BPDU-VPLS];
system {
    time-zone Asia/Saigon;
    switchover-on-routing-crash;
    no-multicast-echo;
    no-redirects;
    no-redirects-ipv6;
    internet-options {
        no-source-quench;
        tcp-drop-synfin-set;
    }
    /* Will remove knob "password" in production network */
    authentication-order password;
    ports {
        console {
            type vt100;
        }
        auxiliary disable;
    }
    root-authentication {
        encrypted-password "$1$CpR/YIUJ$rhJ6IsID4wxDMvzjH01lK."; ## SECRET-DATA
    }
    inactive: tacplus-server {
        172.16.252.250 {
            port 49;
            secret "$9$F71YnCuREyWLN-V5Fn/0OylKvxdsYo"; ## SECRET-DATA
            timeout 5;
            source-address 123.29.47.22;
        }
    }
    /* Will be active in production network */
    inactive: accounting {
        events [ login change-log interactive-commands ];
        destination {
            tacplus {
                server {
                    172.16.252.250 {
                        port 49;
                        secret "$9$F71YnCuREyWLN-V5Fn/0OylKvxdsYo"; ## SECRET-DATA
                        timeout 5;
                        single-connection;
                        source-address 123.29.47.22;
                    }
                }
            }
        }
    }
    login {
        message "--------------------------------------------------------------------------------\n                   MANE - VIEN THONG THANH PHO HO CHI MINH\n\n                   BAN DANG LOGIN VAO THIET BI MX960-LDG04NGA\n--------------------------------------------------------------------------------\n\n";
        class KTBR-VIEW {
            idle-timeout 10;
            permissions [ network view view-configuration];
        }
        /* Thong tin User se duoc lay truc tiep tai moi tinh */
        class admin {
            idle-timeout 5;
            permissions all;
        }
        class khaithac {
            idle-timeout 5;
            permissions [ network trace view ];
        }
        class noc {
            idle-timeout 15;
            permissions view;
        }
        user admin {
            uid 2003;
            class admin;
            authentication {
                encrypted-password "$1$WTKwNPK4$X363sk/YjRmN5/gFi4b931"; ## SECRET-DATA
            }
        }
        user juniper {
            uid 2002;
            class admin;
            authentication {
                encrypted-password "$1$djd6e6S8$WGhXwNELgexqYPvlkx9Mq0"; ## SECRET-DATA
            }
        }
        user ktbr-view {
            uid 2015;
            class KTBR-VIEW;
        }
        user remote {
            uid 2005;
            class khaithac;
        }
        user remote-su {
            uid 2006;
            class admin;
        }
    }
    services {
        ftp;
        ssh {
            root-login deny;
            protocol-version v2;
            connection-limit 15;
        }
        telnet {
            connection-limit 30;
            rate-limit 45;
        }
        netconf {
            ssh {
                connection-limit 10;
                rate-limit 4;
            }
        }
    }
    syslog {
        archive size 10m files 10;
        user * {
            any emergency;
        }
	        host 10.61.1.24 {
	        	any notice;
	            daemon any;
	            kernel any;
	            interactive-commands any;
	            facility-override local7;
	            log-prefix MX960-LDG04NGA;
	        }
        host other-routing-engine {
            any error;
            log-prefix other-RE;
        }
        file messages {
            any info;
            authorization none;
            firewall none;
            interactive-commands none;
            archive world-readable;
            explicit-priority;
        }
        file interactive-commands {
            interactive-commands any;
        }
        file security {
            authorization info;
        }
        file firewall-filter-log {
            firewall any;
        }
        file config-changes {
            change-log info;
        }
        time-format year millisecond;
        source-address 123.29.47.22;
    }
    commit {
        synchronize;
        no-delta-synchronize;
        private {
            no-fast-diff;
        }
    }
    ddos-protection {
        protocols {
            arp {
                aggregate {
                    bandwidth 5000;
                    burst 5000;
                }
            }
        }
    }
    ntp {
	        server 123.29.47.1;
        source-address 123.29.47.22;
    }
}
chassis {
    craft-lockout;
    dump-on-panic;
    enhanced-policer;
    redundancy {
        routing-engine 0 master;
        routing-engine 1 backup;
        failover {
            on-loss-of-keepalives;
            on-disk-failure;
        }
        graceful-switchover;
    }
    aggregated-devices {
        ethernet {
            device-count 50;
        }
    }
    fpc 0 {
        pic 0 {
            tunnel-services {
                bandwidth 1g;
            }
        }
    }
    fpc 7 {
        pic 0 {
            tunnel-services {
                bandwidth 1g;
            }
        }
    }
    alarm {
        management-ethernet {
            link-down ignore;
        }
    }
    network-services enhanced-ip;
}
interfaces {
    ae1 {
                	flexible-vlan-tagging; 
                    encapsulation flexible-ethernet-services;
                    mtu 9022;
		unit 13 {
            description "** Connect to LDG.NGA.W01 - NMS OSN VLAN ** - SVLAN:13";
                    vlan-id 13;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
        unit 99 {
            description "** Connect to LDG.NGA.A12** - SVLAN:99";
            vlan-id 99;
            family inet {
                unnumbered-address lo0.0;
            }
        }
		unit 112 {
            description "** Connect to LDG.3PA.Z11-HSI Dynamic ** - SVLAN:112";
                    vlan-id 112;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 215 {
            description "** Connect to LDG.NGA.A11-HSI Dynamic ** - SVLAN:215";
                    vlan-id 215;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 365 {
            description "** Connect to -LDG.NGA.A12 -HSI Dynamic ** - SVLAN:365";
                    vlan-id 365;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 414 {
            description "** Connect to LDG.NGA.A11- LDG.TCI.Z11HSI Dynamic ** - SVLAN:414";
                    vlan-id 414;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 575 {
            description "** Connect to LDG.NGA.S21-HSI Dynamic ** - SVLAN:575";
                    vlan-id 575;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 1008 {
            description "** Connect to  NODEB_VMS KV_DLT for IUP ** - SVLAN:1008";
                    vlan-id 1008;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 1009 {
            description "** Connect to  NODEB_VMS KV_DLT for IUP ** - SVLAN:1009";
                    vlan-id 1009;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 1112 {
            description "SVLAN:1112 - CVLAN:47,102,103,104,301-324";
                    vlan-tags outer 1112 inner-list [ 47 102 103 104 301-324 ];
							input-vlan-map {
								swap;
								vlan-id 4094;
							}
							output-vlan-map swap;
            encapsulation vlan-vpls;
        }
		unit 1122 {
            description "SVLAN:91";
                    vlan-id 91;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 1162 {
            description "MegaWan_ThuyDienDaDang - SVLAN:111";
                    vlan-id 111;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 1212 {
            description "** Connect to LDG.NGA.A11- FTTH NTIO ** - SVLAN:131-144,501-524,601-624,801-824";
                    vlan-id-list [ 131-144 501-524 601-624 801-824 ];
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 1300 {
            description "** Connect to  NODEB_VMS KV_DTG for IUP ** - SVLAN:1300";
                    vlan-id 1300;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 1328 {
            description "** Connect to  NODEB_VMS KV_DLT for IUP ** - SVLAN:1328";
                    vlan-id 1328;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 1333 {
            description "** Connect to  NODEB_VMS KV_DLT for IUP ** - SVLAN:1333";
                    vlan-id 1333;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 1336 {
            description "** Connect to  LDDT20 for IUP ** - SVLAN:1336";
                    vlan-id 1336;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 1338 {
            description "** Connect to  NODEB_VMS KV_DLT for IUP ** - SVLAN:1338";
                    vlan-id 1338;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 1402 {
            description "** Connect to LDG.NGA.W02 - CN NINH GIA** - SVLAN:1402";
                    vlan-id 1402;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 1428 {
            description " METRO_NT_ NINH GIA - SVLAN:1428";
                    vlan-id 1428;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 1541 {
            description "** Connect to  NODEB_VMS KV_DLT for IUP ** - SVLAN:1541";
                    vlan-id 1541;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 1589 {
            description "** Connect to  NODEB_VMS KV_DLT for IUP ** - SVLAN:1589";
                    vlan-id 1589;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 1590 {
            description "** Connect to  LDDT20 for IUP ** - SVLAN:1590";
                    vlan-id 1590;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 1595 {
            description "** Connect to  LDDT20 for IUP ** - SVLAN:1595";
                    vlan-id 1595;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 1800 {
            description "** Connect to  NODEB_VMS KV_DTG for MUP ** - SVLAN:1800";
                    vlan-id 1800;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 2008 {
            description "** Connect to  NODEB_VMS KV_DLT for IUP ** - SVLAN:2008";
                    vlan-id 2008;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 2009 {
            description "** Connect to  NODEB_VMS KV_DLT for IUP ** - SVLAN:2009";
                    vlan-id 2009;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 2328 {
            description "** Connect to  NODEB_VMS KV_LDG for DLT ** - SVLAN:2328";
                    vlan-id 2328;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 2333 {
            description "** Connect to  NODEB_VMS KV_LDG for DLT ** - SVLAN:2333";
                    vlan-id 2333;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 2336 {
            description "** Connect to  NODEB_VMS KV_LDG for DLT ** - SVLAN:2336";
                    vlan-id 2336;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 2338 {
            description "** Connect to  NODEB_VMS KV_LDG for DLT ** - SVLAN:2338";
                    vlan-id 2338;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 2399 {
            description "** Connect to DHSXKD VNPTLDG ** - SVLAN:66";
                    vlan-id 66;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
        unit 2412 {
            description "SVLAN:2412";
            vlan-id 2412;
            family inet {
                rpf-check fail-filter RPF-ALLOW-DHCP;
                unnumbered-address lo0.2412 preferred-source-address 10.50.32.1;
            }
        }
		unit 2541 {
            description "** Connect to  NODEB_VMS KV_LDG for DLT ** - SVLAN:2541";
                    vlan-id 2541;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 2589 {
            description "** Connect to  NODEB_VMS KV_LDG for DLT ** - SVLAN:2589";
                    vlan-id 2589;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 2590 {
            description "** Connect to  NODEB_VMS KV_LDG for DLT ** - SVLAN:2590";
                    vlan-id 2590;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 2595 {
            description "** Connect to  NODEB_VMS KV_LDG for DLT ** - SVLAN:2595";
                    vlan-id 2595;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 2613 {
            description "SVLAN:2613";
                    vlan-id 2613;
            encapsulation vlan-vpls;
                family vpls {
                            core-facing;
                        filter {
                             input FF-Trust-3G-VNP;
                             output FF-Trust-3G-VNP;
                        }
                }
        }
		unit 2662 {
            description "SVLAN:2662";
                    vlan-id 2662;
            encapsulation vlan-vpls;
                family vpls {
                            core-facing;
                        filter {
                             input FF-Trust-3G-VNP;
                             output FF-Trust-3G-VNP;
                        }
                }
        }
		unit 2712 {
            description "SVLAN:2712";
                    vlan-id 2712;
            encapsulation vlan-vpls;
                family vpls {
                        filter {
                             input FF-Trust-3G-VNP;
                             output FF-Trust-3G-VNP;
                        }
                }
        }
		unit 2762 {
            description "SVLAN:2762";
                    vlan-id 2762;
            encapsulation vlan-vpls;
        }
		unit 2812 {
            description "SVLAN:2812";
                    vlan-id 2812;
            encapsulation vlan-vpls;
                family vpls {
                            core-facing;
                        filter {
                             input FF-Trust-3G-VNP;
                             output FF-Trust-3G-VNP;
                        }
                }
        }
		unit 2862 {
            description "SVLAN:2862";
                    vlan-id 2862;
            encapsulation vlan-vpls;
                family vpls {
                            core-facing;
                        filter {
                             input FF-Trust-3G-VNP;
                             output FF-Trust-3G-VNP;
                        }
                }
        }
		unit 3622 {
            description "** ** Connect to HID6615 - VPN_CAP QUANG **** - SVLAN:110";
                    vlan-id 110;
        }
		unit 3994 {
            description "SVLAN:3994";
                    vlan-id 3994;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 3996 {
            description "SVLAN:3996";
                    vlan-id 3996;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
                family vpls {
                            core-facing;
                }
        }
		unit 3999 {
            description "SVLAN:3999";
                    vlan-id 3999;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
    }
    ae2 {
        description "** GPON_ALCATEL_NINH GIA_10.61.54.13 - **";
                	flexible-vlan-tagging; 
                    encapsulation flexible-ethernet-services;
                    mtu 9022;
        unit 99 {
            description "** GPON_ALCATEL_NINH GIA_10.61.54.13- Multicast ** - SVLAN:99";
            vlan-id 99;
            family inet {
                unnumbered-address lo0.0;
            }
        }
		unit 1017 {
            description "** GPON_ALCATEL_NINH GIA_10.61.54.13 - FTTH ** - SVLAN:1017";
                    vlan-id 1017;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
        unit 2412 {
            description "SVLAN:2412";
            vlan-id 2412;
            family inet {
                rpf-check fail-filter RPF-ALLOW-DHCP;
                unnumbered-address lo0.2412 preferred-source-address 10.50.32.1;
            }
        }
		unit 3000 {
            description "nang cap - SVLAN:3000";
                    vlan-id 3000;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 3991 {
            description "SVLAN:3991";
                    vlan-id 3991;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 4002 {
            description "SVLAN:4002";
                    vlan-id 4002;
                family inet {
                    address 172.18.176.217/30;
                }
        }
    }
    ae3 {
        description "** GPON_ZTE_DALOAN **";
                	flexible-vlan-tagging; 
                    encapsulation flexible-ethernet-services;
                    mtu 9022;
        unit 99 {
            description "SVLAN:99";
            vlan-id 99;
            family inet {
                unnumbered-address lo0.0;
            }
        }
		unit 1072 {
            description "** Connect to GPON Da Loan - HSI ** - SVLAN:1072";
                    vlan-id 1072;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
        unit 2412 {
            description "SVLAN:2412";
            vlan-id 2412;
            family inet {
                rpf-check fail-filter RPF-ALLOW-DHCP;
                unnumbered-address lo0.2412 preferred-source-address 10.50.32.1;
            }
        }
		unit 3000 {
            description "SVLAN:3000";
                    vlan-id 3000;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 3997 {
            description "SVLAN:3997";
                    vlan-id 3997;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
                family vpls {
                            core-facing;
                }
        }
		unit 4002 {
            description "*** GNMS GPON Da Loan-10.61.53.25 *** - SVLAN:4002";
                    vlan-id 4002;
                family inet {
                    address 172.18.177.85/30;
                }
        }
    }
    xe-7/0/0 {
        description "** Connect to LDG04DLH-g1/0/0 **";
                    hold-time up 5000 down 0;
                    mtu 9192;
            link-mode full-duplex;
            gigether-options {
                    auto-negotiation;
            }
                optics-options {
                    alarm low-light-alarm {
                        syslog;
                    }
                    warning low-light-warning {
                        syslog;
                    }
                }
		unit 0 {
            description "** Connect to LDG04DLH-g1/0/0 **";
                family inet {
                    address 10.61.0.101/30;
                }
                family iso;
                family mpls {
                    maximum-labels 5;
                }
        }
    }
    xe-0/0/0 {
        description "** Connect to LDG00DTG-g3/0/1 **";
                    hold-time up 5000 down 0;
                    mtu 9192;
            link-mode full-duplex;
            gigether-options {
                    auto-negotiation;
            }
                optics-options {
                    alarm low-light-alarm {
                        syslog;
                    }
                    warning low-light-warning {
                        syslog;
                    }
                }
		unit 0 {
            description "** Connect to LDG00DTG-g3/0/1 **";
                family inet {
                    address 10.61.0.97/30;
                }
                family iso;
                family mpls {
                    maximum-labels 5;
                }
        }
    }
    ge-0/2/0 {
        description "GigabitEthernet4/1/8 _VNP_Node_B_         SL2_LDG.NGA.W02"; 
                /* check gia tri flex_serice 2 */
                    hold-time up 5000 down 0;
            link-mode full-duplex;
            gigether-options {
                    auto-negotiation;
                    802.3ad ae1;
            }
    }
    ge-0/2/1 {
        description "** LDG.NGA.AT1 port B *"; 
                /* check gia tri flex_serice 2 */
                    hold-time up 5000 down 0;
            link-mode full-duplex;
            gigether-options {
                    no-auto-negotiation;
                    802.3ad ae2;
            }
    }
    ge-0/3/0 {
        description "GigabitEthernet4/1/10_VNP_Node_B_         SL2_LDG.DLN.W01";
                	flexible-vlan-tagging; 
                    encapsulation flexible-ethernet-services;
                    hold-time up 5000 down 0;
                    mtu 9022;
            link-mode full-duplex;
            gigether-options {
                    auto-negotiation;
            }
		unit 13 {
            description "** Connect to LDG.LDN.W01 - NMS OSN VLAN ** - SVLAN:13";
                    vlan-id 13;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
        unit 99 {
            description "** Connect to LDG.DLN.W01** - SVLAN:99";
            vlan-id 99;
            family inet {
                unnumbered-address lo0.0;
            }
        }
		unit 1008 {
            description "** Connect to  NODEB_VMS KV_DLT for IUP ** - SVLAN:1008";
                    vlan-id 1008;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 1009 {
            description "** Connect to  NODEB_VMS KV_DLT for IUP ** - SVLAN:1009";
                    vlan-id 1009;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 1112 {
            description "** Connect to LDG.DLN.W01 - S5300  ** - SVLAN:1112 - CVLAN:201-224";
                    vlan-tags outer 1112 inner-list [ 201-224 ];
							input-vlan-map {
								swap;
								vlan-id 4094;
							}
							output-vlan-map swap;
            encapsulation vlan-vpls;
        }
		unit 1122 {
            description "**conect to LDG.TNG.W01** - SVLAN:701-724";
                    vlan-id-list [ 701-724 ];
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 1212 {
            description "** conect to LDG.DLN.W02** - SVLAN:901-911,913-924";
                    vlan-id-list [ 901-911 913-924 ];
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 1326 {
            description "** Node B VMS BD Da loan LDDT00 ** - SVLAN:1326";
                    vlan-id 1326;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 1330 {
            description "** Node B VMS LDDT09 -Thon Tahin, DucTrong** - SVLAN:1330";
                    vlan-id 1330;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 1542 {
            description "SVLAN:1542";
                    vlan-id 1542;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 1545 {
            description "SVLAN:1545";
                    vlan-id 1545;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 2008 {
            description "** Connect to  NODEB_VMS KV_DLT for IUP ** - SVLAN:2008";
                    vlan-id 2008;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 2009 {
            description "** Connect to  NODEB_VMS KV_DLT for IUP ** - SVLAN:2009";
                    vlan-id 2009;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 2326 {
            description "** Node B VMS BD Da loan LDDT00 ** - SVLAN:2326";
                    vlan-id 2326;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 2330 {
            description "** Node B VMS LDDT09 -Thon Tahin, DucTrong** - SVLAN:2330";
                    vlan-id 2330;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 2399 {
            description "** Connect to DHSXKD VNPTLDG ** - SVLAN:67";
                    vlan-id 67;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
        unit 2412 {
            description "SVLAN:2412";
            vlan-id 2412;
            family inet {
                rpf-check fail-filter RPF-ALLOW-DHCP;
                unnumbered-address lo0.2412 preferred-source-address 10.50.32.1;
            }
        }
		unit 2542 {
            description "SVLAN:2542";
                    vlan-id 2542;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 2545 {
            description "SVLAN:2545";
                    vlan-id 2545;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 2613 {
            description "SVLAN:2613";
                    vlan-id 2613;
            encapsulation vlan-vpls;
                family vpls {
                            core-facing;
                        filter {
                             input FF-Trust-3G-VNP;
                             output FF-Trust-3G-VNP;
                        }
                }
        }
		unit 2662 {
            description "SVLAN:2662";
                    vlan-id 2662;
            encapsulation vlan-vpls;
                family vpls {
                            core-facing;
                        filter {
                             input FF-Trust-3G-VNP;
                             output FF-Trust-3G-VNP;
                        }
                }
        }
		unit 2712 {
            description "SVLAN:2712";
                    vlan-id 2712;
            encapsulation vlan-vpls;
                family vpls {
                            core-facing;
                        filter {
                             input FF-Trust-3G-VNP;
                             output FF-Trust-3G-VNP;
                        }
                }
        }
		unit 2762 {
            description "SVLAN:2762";
                    vlan-id 2762;
            encapsulation vlan-vpls;
                family vpls {
                            core-facing;
                        filter {
                             input FF-Trust-3G-VNP;
                             output FF-Trust-3G-VNP;
                        }
                }
        }
		unit 3622 {
            description "** Connect to VPN_CAP QUANG Vincom_LDG.DLN.TVT.L2S.V01.002_port12** - SVLAN:912";
                    vlan-id 912;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 3996 {
            description "** Connect to LDG.DLN.W01- HSI ** - SVLAN:3996";
                    vlan-id 3996;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
                family vpls {
                            core-facing;
                }
        }
		unit 3999 {
            description "** Connect to LDG.DTG.S13- DSLAM_NMS ** - SVLAN:3999";
                    vlan-id 3999;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
    }
    ge-0/3/1 {
        description " Ge1 - LDG.NGA.H31 for NodeB ";
                	flexible-vlan-tagging; 
                    encapsulation flexible-ethernet-services;
                    hold-time up 5000 down 0;
                    mtu 9022;
            link-mode full-duplex;
            gigether-options {
                    no-auto-negotiation;
            }
		unit 2613 {
            description "SVLAN:2613";
                    vlan-id 2613;
            encapsulation vlan-vpls;
                family vpls {
                            core-facing;
                }
        }
    }
    ge-0/2/2 {
        description "DSL_LDG.NLN.A11";
                	flexible-vlan-tagging; 
                    encapsulation flexible-ethernet-services;
                    hold-time up 5000 down 0;
                    mtu 9022;
            link-mode full-duplex;
            gigether-options {
                    no-auto-negotiation;
            }
        unit 98 {
            description "** Connect to LDG.DLN.A11** - SVLAN:98";
            vlan-id 98;
            family inet {
                unnumbered-address lo0.0;
            }
        }
        unit 99 {
            description "** Connect to LDG.DLN.A11** - SVLAN:99";
            vlan-id 99;
            family inet {
                unnumbered-address lo0.0;
            }
        }
		unit 216 {
            description "** Connect to LDG.NLN.A21-HSI Dynamic ** - SVLAN:216";
                    vlan-id 216;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 217 {
            description "** Connect to LDG.DLN.A11-HSI Dynamic ** - SVLAN:217";
                    vlan-id 217;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 716 {
            description "** Connect to LDG.NLN.A21  VPN ** - SVLAN:716";
                    vlan-id 716;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 717 {
            description "** Connect to LDG.DLN.A11  VPN ** - SVLAN:717";
                    vlan-id 717;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
        unit 2412 {
            description "SVLAN:2412";
            vlan-id 2412;
            family inet {
                rpf-check fail-filter RPF-ALLOW-DHCP;
                unnumbered-address lo0.2412 preferred-source-address 10.50.32.1;
            }
        }
		unit 2462 {
            description "** Connect to LDG.DLN.A11- VOD-MIMOSATV ** - SVLAN:2462";
                    vlan-id 2462;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
                family vpls {
                        filter {
                             input FF-VOD_MIMOSATV_IN;
                             output FF-VOD_MIMOSATV_OUT;
                        }
                }
        }
		unit 2700 {
            description "SVLAN:3116";
                    vlan-id 3116;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 3999 {
            description "** Connect to LDG.NLN.A11** - SVLAN:3999";
                    vlan-id 3999;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
    }
    ge-0/2/3 {
        description "GigabitEthernet4/1/3 _VNP_Node_B_         HUAWEI, Quidway Series, GigabitEthernet4/1/3 Inter";
                	flexible-vlan-tagging; 
                    encapsulation flexible-ethernet-services;
                    hold-time up 5000 down 0;
                    mtu 9022;
            link-mode full-duplex;
            gigether-options {
                    no-auto-negotiation;
            }
        unit 98 {
            description "** Connect to LDG.THE.A11** - SVLAN:98";
            vlan-id 98;
            family inet {
                unnumbered-address lo0.0;
            }
        }
        unit 99 {
            description "** Connect to LDG.THE.A11** - SVLAN:99";
            vlan-id 99;
            family inet {
                unnumbered-address lo0.0;
            }
        }
		unit 295 {
            description "** Connect to -LDG.PAN.A11 -HSI Dynamic ** - SVLAN:295";
                    vlan-id 295;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 719 {
            description "** Connect to LDG.THE.A11  VPN ** - SVLAN:719";
                    vlan-id 719;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 795 {
            description "** Connect to LDG.PAN.A11  VPN ** - SVLAN:795";
                    vlan-id 795;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 1112 {
            description "** Connect to LDG.PAN.A11- FTTH NTIO ** - SVLAN:1112 - CVLAN:51,52,53,54";
                    vlan-tags outer 1112 inner-list [ 51 52 53 54 ];
							input-vlan-map {
								swap;
								vlan-id 4094;
							}
							output-vlan-map swap;
            encapsulation vlan-vpls;
        }
        unit 2412 {
            description "SVLAN:2412";
            vlan-id 2412;
            family inet {
                rpf-check fail-filter RPF-ALLOW-DHCP;
                unnumbered-address lo0.2412 preferred-source-address 10.50.32.1;
            }
        }
		unit 2462 {
            description "** Connect to LDG.THE.A11- VOD-MIMOSATV ** - SVLAN:2462";
                    vlan-id 2462;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
                family vpls {
                        filter {
                             input FF-VOD_MIMOSATV_IN;
                             output FF-VOD_MIMOSATV_OUT;
                        }
                }
        }
		unit 2613 {
            description "SVLAN:2613";
                    vlan-id 2613;
            encapsulation vlan-vpls;
                family vpls {
                            core-facing;
                        filter {
                             input FF-Trust-3G-VNP;
                             output FF-Trust-3G-VNP;
                        }
                }
        }
		unit 3999 {
            description "** Connect to LDG.TAN.A11- DSLAM_NMS ** - SVLAN:3999";
                    vlan-id 3999;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
    }
    ge-0/2/4 { 
                /* check gia tri flex_serice 2 */
                    hold-time up 5000 down 0;
            link-mode full-duplex;
            gigether-options {
                    auto-negotiation;
                    802.3ad ae3;
            }
    }
    ge-0/2/5 {
        description "GigabitEthernet4/1/5 _VNP_Node_B_         DSL_LDG.GHP.A11";
                	flexible-vlan-tagging; 
                    encapsulation flexible-ethernet-services;
                    hold-time up 5000 down 0;
                    mtu 9022;
            link-mode full-duplex;
            gigether-options {
                    auto-negotiation;
            }
        unit 98 {
            description "** Connect to LDG.GHP.A11** - SVLAN:98";
            vlan-id 98;
            family inet {
                unnumbered-address lo0.0;
            }
        }
        unit 99 {
            description "** Connect to LDG.GHP.A11** - SVLAN:99";
            vlan-id 99;
            family inet {
                unnumbered-address lo0.0;
            }
        }
		unit 207 {
            description "** Connect to LDG.GHP.A11-HSI Dynamic ** - SVLAN:207";
                    vlan-id 207;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 387 {
            description "** Connect to LDG.GHP.A12-HSI Dynamic ** - SVLAN:387";
                    vlan-id 387;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 484 {
            description "**Connect to LDG.215.A11-HSI Dynamic** - SVLAN:484";
                    vlan-id 484;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 707 {
            description "** Connect to LDG.GHP.A11  VPN ** - SVLAN:707";
                    vlan-id 707;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 720 {
            description "** Connect to LDG.TBO.A11  VPN ** - SVLAN:720";
                    vlan-id 720;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 1112 {
            description "SVLAN:231-256";
                    vlan-id-list [ 231-256 ];
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
        unit 2412 {
            description "SVLAN:2412";
            vlan-id 2412;
            family inet {
                rpf-check fail-filter RPF-ALLOW-DHCP;
                unnumbered-address lo0.2412 preferred-source-address 10.50.32.1;
            }
        }
		unit 2462 {
            description "** Connect to LDG.GHP.A11- VOD-MIMOSATV ** - SVLAN:2462";
                    vlan-id 2462;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
                family vpls {
                        filter {
                             input FF-VOD_MIMOSATV_IN;
                             output FF-VOD_MIMOSATV_OUT;
                        }
                }
        }
		unit 2613 {
            description "SVLAN:2613";
                    vlan-id 2613;
            encapsulation vlan-vpls;
                family vpls {
                            core-facing;
                        filter {
                             input FF-Trust-3G-VNP;
                             output FF-Trust-3G-VNP;
                        }
                }
        }
		unit 2662 {
            description "SVLAN:2662";
                    vlan-id 2662;
            encapsulation vlan-vpls;
                family vpls {
                            core-facing;
                }
        }
		unit 2700 {
            description "SVLAN:3100";
                    vlan-id 3100;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 2712 {
            description "SVLAN:2712";
                    vlan-id 2712;
            encapsulation vlan-vpls;
        }
		unit 2762 {
            description "SVLAN:2762";
                    vlan-id 2762;
            encapsulation vlan-vpls;
        }
		unit 3996 {
            description "SVLAN:3996";
                    vlan-id 3996;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
                family vpls {
                            core-facing;
                }
        }
		unit 3999 {
            description "** Connect to LDG.GHP.A11- DSLAM_NMS ** - SVLAN:3999";
                    vlan-id 3999;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
    }
    ge-7/2/1 {
        description "** Eth-Trunk2 LDG.NGA.AT1 port 1 **"; 
                /* check gia tri flex_serice 2 */
                    hold-time up 5000 down 0;
            link-mode full-duplex;
            gigether-options {
                    auto-negotiation;
                    802.3ad ae2;
            }
    }
    ge-0/2/7 {
        description "DSL_LDG.TAN.A11";
                	flexible-vlan-tagging; 
                    encapsulation flexible-ethernet-services;
                    hold-time up 5000 down 0;
                    mtu 9022;
            link-mode full-duplex;
            gigether-options {
                    auto-negotiation;
            }
		unit 13 {
            description "** Connect to LDG.DLN.A11 - NMS OSN VLAN ** - SVLAN:13";
                    vlan-id 13;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
        unit 98 {
            description "** Connect to LDG.DLN.A11** - SVLAN:98";
            vlan-id 98;
            family inet {
                unnumbered-address lo0.0;
            }
        }
        unit 99 {
            description "** Connect to LDG.DLN.A11** - SVLAN:99";
            vlan-id 99;
            family inet {
                unnumbered-address lo0.0;
            }
        }
		unit 200 {
            description "** Connect to LDG.MBO.A11-HSI Dynamic ** - SVLAN:200";
                    vlan-id 200;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 217 {
            description "** Connect to LDG.DLN.A11-HSI Dynamic ** - SVLAN:217";
                    vlan-id 217;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 218 {
            description "** Connect to LDG.TAN.A11-HSI Dynamic ** - SVLAN:218";
                    vlan-id 218;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 717 {
            description "** Connect to LDG.DLN.A11  VPN ** - SVLAN:717";
                    vlan-id 717;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 718 {
            description "** Connect to LDG.TAN.A11  VPN ** - SVLAN:718";
                    vlan-id 718;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 1112 {
            description "SVLAN:1112 - CVLAN:63";
                    vlan-tags outer 1112 inner 63;
							input-vlan-map {
								swap;
								vlan-id 4094;
							}
							output-vlan-map swap;
            encapsulation vlan-vpls;
        }
        unit 2412 {
            description "SVLAN:2412";
            vlan-id 2412;
            family inet {
                rpf-check fail-filter RPF-ALLOW-DHCP;
                unnumbered-address lo0.2412 preferred-source-address 10.50.32.1;
            }
        }
		unit 2462 {
            description "** Connect to LDG.DLN.A11- VOD-MIMOSATV ** - SVLAN:2462";
                    vlan-id 2462;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
                family vpls {
                        filter {
                             input FF-VOD_MIMOSATV_IN;
                             output FF-VOD_MIMOSATV_OUT;
                        }
                }
        }
		unit 2700 {
            description "SVLAN:3117,3119";
                    vlan-id-list [ 3117 3119 ];
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 3999 {
            description "** Connect to LDG.DLN.A11- DSLAM_NMS ** - SVLAN:3999";
                    vlan-id 3999;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
    }
    ge-7/2/0 {
        description "** SL2_LDG.NGA.W02 **"; 
                /* check gia tri flex_serice 2 */
                    hold-time up 5000 down 0;
            link-mode full-duplex;
            gigether-options {
                    auto-negotiation;
                    802.3ad ae1;
            }
    }
    ge-0/2/9 {
        description "DSL_LDG.THE.A11";
                	flexible-vlan-tagging; 
                    encapsulation flexible-ethernet-services;
                    hold-time up 5000 down 0;
                    mtu 9022;
            link-mode full-duplex;
            gigether-options {
                    no-auto-negotiation;
            }
        unit 99 {
            description "** Connect to LDG.DLN.A11** - SVLAN:99";
            vlan-id 99;
            family inet {
                unnumbered-address lo0.0;
            }
        }
		unit 399 {
            description "** Connect to LDG.THE.A11-HSI Dynamic ** - SVLAN:399";
                    vlan-id 399;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 416 {
            description "** Connect to LDG.DL9.Z11-HSI Dynamic ** - SVLAN:416";
                    vlan-id 416;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 899 {
            description "** Connect to LDG.THE.A11  VPN ** - SVLAN:899";
                    vlan-id 899;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 1112 {
            description "** Connect to LDG.DL9.W01 - FTTH CARD** - SVLAN:401-415";
                    vlan-id-list [ 401-415 ];
        }
        unit 2412 {
            description "SVLAN:2412";
            vlan-id 2412;
            family inet {
                rpf-check fail-filter RPF-ALLOW-DHCP;
                unnumbered-address lo0.2412 preferred-source-address 10.50.32.1;
            }
        }
		unit 2700 {
            description "SVLAN:3118";
                    vlan-id 3118;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 3994 {
            description "** Connect to  MXU_ZTE* - SVLAN:3994";
                    vlan-id 3994;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 3999 {
            description "** Connect to LDG.THE.A11- DSLAM_NMS ** - SVLAN:3999";
                    vlan-id 3999;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
    }
    lo0 {
        apply-groups PROTECT-RE-GROUP;
		unit 0 {
            family iso {
                address 49.0061.1230.2904.7022.00;
            }
                family inet {
                    address 123.29.47.22/32;
                }
        }
		unit 2412 {
                family inet {
                    address 10.50.32.1/32;
                }
        }
    }
    irb {
		unit 2613 {
            description "Node B IUB-3G-L3-VNP";
                family inet {
                    address 10.209.42.97/27;
                }
        }
		unit 2662 {
                family inet {
                    address 10.209.85.129/28;
                }
        }
		unit 2712 {
                family inet {
                    address 10.215.76.17/28;
                }
        }
		unit 2762 {
                family inet {
                    address 10.215.108.17/28;
                }
        }
		unit 2812 {
                family inet {
                    address 10.209.79.193/27;
                }
        }
    }
}
snmp {
    community dmsmaneread {
        authorization read-only;
        client-list-name SNMP-CLIENT-PREFIXES;
    }
    /* Consider */
    trap-options {
        source-address 123.29.47.22;
    }
    trap-group MANE-TRAP-GROUP {
        version v2;
        categories {
            authentication;
            chassis;
            link;
            routing;
            startup;
            vrrp-events;
            configuration;
        }
        /* Change in production network */
        targets {
	        10.1.5.168;
	        10.61.1.2;
	        10.61.1.22;
	        123.29.0.162;
	        123.29.0.163;
	        172.20.96.168;
        }
    }
    filter-interfaces {
        interfaces {
			"!^[gxae][et].*";
			"(ge|xe|ae|et).*\..*";
        }
        all-internal-interfaces;
    }	
}
routing-options {
    ppm {
        redistribution-timer 120;
    }
    nonstop-routing;
    router-id 123.29.47.22;
    autonomous-system 65061;
    forwarding-table {
        export LOAD-BALANCE;
    }
    multicast {
        ssm-map SSM-MAP-IPV4 {
            policy SSM-POLICY;
            source [ 123.29.128.4 123.29.128.122 ];
        }
    }
}
protocols {
    igmp {
        interface ae1.99 {
            ssm-map SSM-MAP-IPV4;
            promiscuous-mode;
        }
        interface ae2.99 {
            ssm-map SSM-MAP-IPV4;
            promiscuous-mode;
        }
        interface ae3.99 {
            ssm-map SSM-MAP-IPV4;
            promiscuous-mode;
        }
        interface ge-0/3/0.99 {
            ssm-map SSM-MAP-IPV4;
            promiscuous-mode;
        }
        interface ge-0/2/2.98 {
            ssm-map SSM-MAP-IPV4;
            promiscuous-mode;
        }
        interface ge-0/2/2.99 {
            ssm-map SSM-MAP-IPV4;
            promiscuous-mode;
        }
        interface ge-0/2/3.98 {
            ssm-map SSM-MAP-IPV4;
            promiscuous-mode;
        }
        interface ge-0/2/3.99 {
            ssm-map SSM-MAP-IPV4;
            promiscuous-mode;
        }
        interface ge-0/2/5.98 {
            ssm-map SSM-MAP-IPV4;
            promiscuous-mode;
        }
        interface ge-0/2/5.99 {
            ssm-map SSM-MAP-IPV4;
            promiscuous-mode;
        }
        interface ge-0/2/7.98 {
            ssm-map SSM-MAP-IPV4;
            promiscuous-mode;
        }
        interface ge-0/2/7.99 {
            ssm-map SSM-MAP-IPV4;
            promiscuous-mode;
        }
        interface ge-0/2/9.99 {
            ssm-map SSM-MAP-IPV4;
            promiscuous-mode;
        }
    }
    rsvp {		
        interface xe-7/0/0.0 {
            aggregate;
            reliable;
        }		
        interface xe-0/0/0.0 {
            aggregate;
            reliable;
        }
    }
    mpls {
        statistics {
            file MPLS-LSP-STATS size 10m files 10;
            interval 300;
        }
        log-updown {
            syslog;
            trap;
            trap-path-down;
            trap-path-up;
        }
        smart-optimize-timer 60;
        no-propagate-ttl;
        ipv6-tunneling;
        optimize-timer 300;
        label-switched-path lsp-LDG04NGA-to-LDG00DLT-1 {
   			to 123.29.47.1 ;
   			description Tunnel0/0/1;
    		adaptive;
    		primary p-LDG04NGA-to-LDG00DLT-1;
    		secondary s-LDG04NGA-to-LDG00DLT-1 {
        		standby;
   			}
		}
		path s-LDG04NGA-to-LDG00DLT-1;
		path p-LDG04NGA-to-LDG00DLT-1 {
			10.61.0.98 strict;
			10.61.0.1 strict;
			123.29.47.1 loose;
		}
		path s-LDG04NGA-to-LDG00DLT-1;
        label-switched-path lsp-LDG04NGA-to-LDG00DTG-2 {
   			to 123.29.47.2 ;
   			description Tunnel0/0/2;
    		adaptive;
    		primary p-LDG04NGA-to-LDG00DTG-2;
    		secondary s-LDG04NGA-to-LDG00DTG-2 {
        		standby;
   			}
		}
		path s-LDG04NGA-to-LDG00DTG-2;
		path p-LDG04NGA-to-LDG00DTG-2 {
			10.61.0.98 strict;
			123.29.47.2 loose;
		}
		path s-LDG04NGA-to-LDG00DTG-2;
        interface xe-7/0/0.0;
        interface xe-0/0/0.0;
    }
    bgp {
        precision-timers;
        path-selection external-router-id;
        advertise-from-main-vpn-tables;
        mtu-discovery;
        log-updown;
        group IBGP-TO-RR{
            type internal;
            local-address 123.29.47.22;
            family inet-vpn {
                unicast;
            }
            family inet6-vpn {
                unicast;
            }
            authentication-key "$9$9e4hA01RESM8xbsQFn/tpO1RSrvM87"; ## SECRET-DATA
            neighbor 123.29.47.18;
            neighbor 123.29.47.19;
        }
    }
    isis {
        reference-bandwidth 1000g;
        lsp-lifetime 65535;
        overload timeout 420;
        level 2 disable;
        level 1 {
            wide-metrics-only;
            prefix-export-limit 100;
        }		
        interface xe-7/0/0.0 {
            ldp-synchronization;
            point-to-point;
            level 1 {
    			hello-authentication-key "$9$JNZi.tpBEhr"; ## SECRET-DATA
    			hello-authentication-type md5;
   			}
        }		
        interface xe-0/0/0.0 {
            ldp-synchronization;
            point-to-point;
            level 1 {
    			hello-authentication-key "$9$JNZi.tpBEhr"; ## SECRET-DATA
    			hello-authentication-type md5;
   			}
        }
        interface lo0.0;
    }
    ldp {
        track-igp-metric;
        deaggregate;		
        interface xe-7/0/0.0;		
        interface xe-0/0/0.0;
        interface lo0.0;
        session 123.29.47.1 {
            authentication-key "$9$1T0RSlKv8dbYJGAp0BEhxNdV2aPfz6Cu"; ## SECRET-DATA
        }
        session 123.29.47.2 {
            authentication-key "$9$1T0RSlKv8dbYJGAp0BEhxNdV2aPfz6Cu"; ## SECRET-DATA
        }
        session-protection;
    }
    pim {		
        interface xe-7/0/0.0 {
            mode sparse;
            version 2;
        }		
        interface xe-0/0/0.0 {
            mode sparse;
            version 2;
        }
        join-load-balance {
            automatic;
        }
        standby-path-creation-delay 5;
        idle-standby-path-switchover-delay 10;
    }
    l2circuit {
        neighbor 123.29.47.1 {		
            interface ae1.575 {
                virtual-circuit-id 1102210000;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102210001;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ae1.215 {
                virtual-circuit-id 1102210010;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102210011;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-0/2/2.216 {
                virtual-circuit-id 1102210020;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102210021;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-0/2/2.217 {
                virtual-circuit-id 1102210030;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-0/2/7.218 {
                virtual-circuit-id 1102210040;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102210041;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-0/2/7.217 {
                virtual-circuit-id 1102210050;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102210051;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-0/2/7.200 {
                virtual-circuit-id 1102210070;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102210071;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-0/2/3.295 {
                virtual-circuit-id 1102210090;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102210091;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-0/2/5.207 {
                virtual-circuit-id 1102210140;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102210141;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ae1.365 {
                virtual-circuit-id 1102210150;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102210151;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-0/2/9.399 {
                virtual-circuit-id 1102210160;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102210161;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-0/2/5.387 {
                virtual-circuit-id 1102210170;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102210171;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-0/2/9.416 {
                virtual-circuit-id 1102210180;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102210181;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ae1.414 {
                virtual-circuit-id 1102210190;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102210191;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-0/2/5.484 {
                virtual-circuit-id 1102210220;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102210221;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ae1.112 {
                virtual-circuit-id 1102211120;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102211121;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-0/3/0.1326 {
                virtual-circuit-id 1102211326;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102201326;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ae1.1328 {
                virtual-circuit-id 1102211328;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102201328;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-0/3/0.1330 {
                virtual-circuit-id 1102211330;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102201330;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ae1.1333 {
                virtual-circuit-id 1102211333;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102201333;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ae1.1336 {
                virtual-circuit-id 1102211336;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102201336;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ae1.1338 {
                virtual-circuit-id 1102211338;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102201338;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ae1.1541 {
                virtual-circuit-id 1102211541;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-0/3/0.1542 {
                virtual-circuit-id 1102211542;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102201542;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-0/3/0.1545 {
                virtual-circuit-id 1102211545;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102201545;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ae1.1589 {
                virtual-circuit-id 1102211589;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;
            }			
        }
        neighbor 123.29.47.1 {		
            interface ae1.1590 {
                virtual-circuit-id 1102211590;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102201590;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ae1.1595 {
                virtual-circuit-id 1102211595;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102201595;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-0/3/0.2326 {
                virtual-circuit-id 1102212326;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102202326;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ae1.2328 {
                virtual-circuit-id 1102212328;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102202328;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-0/3/0.2330 {
                virtual-circuit-id 1102212330;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102202330;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ae1.2333 {
                virtual-circuit-id 1102212333;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102202333;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ae1.2336 {
                virtual-circuit-id 1102212336;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102202336;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ae1.2338 {
                virtual-circuit-id 1102212338;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102202338;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ae1.2541 {
                virtual-circuit-id 1102212541;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-0/3/0.2542 {
                virtual-circuit-id 1102212542;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102202542;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-0/3/0.2545 {
                virtual-circuit-id 1102212545;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102202545;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ae1.2589 {
                virtual-circuit-id 1102212589;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;
            }			
        }
        neighbor 123.29.47.1 {		
            interface ae1.2590 {
                virtual-circuit-id 1102212590;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102202590;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ae1.2595 {
                virtual-circuit-id 1102212595;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102202595;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-0/2/2.716 {
                virtual-circuit-id 1402210020;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-0/2/2.717 {
                virtual-circuit-id 1402210030;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-0/2/7.718 {
                virtual-circuit-id 1402210040;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-0/2/3.719 {
                virtual-circuit-id 1402210050;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-0/2/5.720 {
                virtual-circuit-id 1402210070;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-0/2/7.717 {
                virtual-circuit-id 1402210080;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-0/2/3.795 {
                virtual-circuit-id 1402210090;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-0/2/9.899 {
                virtual-circuit-id 1402210100;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-0/2/5.707 {
                virtual-circuit-id 1402210140;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;
            }			
        }
        neighbor 123.29.47.2 {		
            interface ae2.1017 {
                virtual-circuit-id 1102210240;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.1 {
                    	virtual-circuit-id 1102210241;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.2 {		
            interface ae3.1072 {
                virtual-circuit-id 1102210720;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.1 {
                    	virtual-circuit-id 1102210721;
                        standby;
                    }
            }			
        }
    }
    l2-learning {
        global-mac-move {
            threshold-time 1;
            threshold-count 50;
        }
        vpls-mac-move {
            cooloff-time 30;
            statistical-approach-wait-time 30;
            interface-recovery-time 3600;
            /* Virtual MAC for VRRP */
            virtual-mac 00:00:5e:00:01:00/40;
            /* Virtual MAC for HSRP */
            virtual-mac 00:00:0c:07:ac:00/40;
            /* Virtual MAC for GSLB */
            virtual-mac 00:07:b4:00:01:00/40;
            /* Virtual MAC for vMotion */
            virtual-mac 02:bf:00:00:00:00/16;
        }
        global-mac-table-aging-time 14400;
    }
}
policy-options {
    prefix-list SNMP-CLIENT-PREFIXES {
    	/* Ung voi moi tinh, request thong tin nay */
    }
    prefix-list INTERFACE-PREFIXES {
        apply-path "interfaces <*> unit <*> family inet address <*>";
    }
    prefix-list BGP-NEIGHBORS {
        apply-path "protocols bgp group <*> neighbor <*>";
    }
    prefix-list BGP-NEIGHBORS-RI {
        apply-path "routing-instances <*> protocols bgp group <*> neighbor <*>";
    }
    /* Consider - Based on HCM-BRAS configuration */
    prefix-list MGMT-PREFIXES {
        123.29.47.0/24;
        123.29.47.0/24;
        10.61.0.0/16;
        10.61.0.0/16;
        123.29.0.0/24;
        123.29.0.0/20;
        123.29.128.0/24;
        0.0.0.0/0;
        123.29.47.0/27;
        10.61.0.0/24;
        10.61.1.0/27;
        222.253.207.248/29;
        123.29.0.162/31;
    }
	prefix-list L2ACCESS-PREFIXES {
		/* Ung voi moi tinh, request thong tin nay */
	}	
    prefix-list NTP-SERVER {
        apply-path "system ntp server <*>";
    }
    prefix-list NTP-SOURCE-ADDRESS {
        apply-path "system ntp source-address <*>";
    }
    prefix-list INTERNAL-LO0-PREFIXES {
        /* Ung voi moi tinh, request thong tin nay */
    }
    prefix-list TACACS-SERVERS {
        apply-path "system tacplus-server <*>";
    }
    prefix-list INTERNAL-NNI-PREFIXES {
        /* Ung voi moi tinh, request thong tin nay */
    }
    policy-statement LOAD-BALANCE {
        then {
            load-balance per-packet;
        }
    }
    policy-statement SSM-POLICY {
        term 1 {
            from {
                route-filter 232.84.1.0/24 orlonger;
                route-filter 232.84.2.0/24 orlonger;
            }
            then accept;
        }
        term discard {
            then reject;
        }
    }
    policy-statement PS-EXP-ENODEB-OAM {
                term ENODEB-OAM_0_0 {
                    from {
                        protocol [ direct static ];
                    }
                    then {
                        community add RT-65061:20010008;
                        accept;
                    }
                }
    }
    policy-statement PS-IMP-ENODEB-OAM {
        term final {
            from {
                community [  RT-65061:20010008  ];
            }
            then {
                accept;
            }
        }   
    }
    policy-statement PS-EXP-ENODEB-SERVICE {
                term ENODEB-SERVICE_0_0 {
                    from {
                        protocol [ direct static ];
                    }
                    then {
                        community add RT-65061:20010007;
                        accept;
                    }
                }
    }
    policy-statement PS-IMP-ENODEB-SERVICE {
        term final {
            from {
                community [  RT-65061:20010007  ];
            }
            then {
                accept;
            }
        }   
    }
    policy-statement PS-EXP-IUB-3G-L3-VNP {
                term IUB-3G-L3-VNP_0_0 {
                    from {
                        protocol [ direct static ];
                    }
                    then {
                        community add RT-65061:20220001;
                        accept;
                    }
                }
    }
    policy-statement PS-IMP-IUB-3G-L3-VNP {
        term final {
            from {
                community [  RT-65061:20010001  RT-65061:20020001  ];
            }
            then {
                accept;
            }
        }   
    }
    policy-statement PS-EXP-TSLCD-KHOICHINHQUYEN-2990 {
                term TSLCD-KHOICHINHQUYEN-2990_0_0 {
                    from {
                        protocol [ direct static ];
                    }
                    then {
                        community add RT-65061:22420230;
                        accept;
                    }
                }
    }
    policy-statement PS-IMP-TSLCD-KHOICHINHQUYEN-2990 {
        term final {
            from {
                community [  RT-65061:22420231  ];
            }
            then {
                accept;
            }
        }   
    }
    policy-statement PS-EXP-VPRN-311005514 {
                term VPRN-311005514_0_0 {
                    from {
                        protocol [ static ];
                    }
                    then {
                        community add RT-65061:11005514;
                        accept;
                    }
                }
    }
    policy-statement PS-IMP-VPRN-311005514 {
        term final {
            from {
                community [  RT-65061:11005515  ];
            }
            then {
                accept;
            }
        }   
    }
    policy-statement PS-EXP-VoD-LDG {
                term VoD-LDG_0_0 {
                    from {
                        route-filter 0.0.0.0/0 exact;
                    }
                    then {
                        community add RT-65061:20490022;
                        accept;
                    }
                }
                term VoD-LDG_1_1 {
                    from {
                        route-filter 10.137.16.0/20 exact;
                    }
                    then {
                        community add RT-65061:20490022;
                        accept;
                    }
                }
                term VoD-LDG_2_2 {
                    from {
                        protocol [ direct ];
                    }
                    then {
                        community add RT-65061:20490022;
                        accept;
                    }
                }
    }
    policy-statement PS-IMP-VoD-LDG {
        term final {
            from {
                community [  RT-65061:20490001  RT-65061:20490002  ];
            }
            then {
                accept;
            }
        }   
    }
    community RT-65061:20010007 members target:65061:20010007;
    community RT-65061:22420230 members target:65061:22420230;
    community RT-65061:20010001 members target:65061:20010001;
    community RT-65061:20490001 members target:65061:20490001;
    community RT-65061:20010008 members target:65061:20010008;
    community RT-65061:20490022 members target:65061:20490022;
    community RT-65061:22420231 members target:65061:22420231;
    community RT-65061:20020001 members target:65061:20020001;
    community RT-65061:11005515 members target:65061:11005515;
    community RT-65061:20220001 members target:65061:20220001;
    community RT-65061:20490002 members target:65061:20490002;
    community RT-65061:11005514 members target:65061:11005514;
}
class-of-service {
    classifiers {
        dscp CL-DSCP {
            forwarding-class BE {
                loss-priority low code-points 001000;
                loss-priority high code-points 000000;
            }
            forwarding-class AF {
                loss-priority low code-points 010010;
            }
            forwarding-class L1 {
                loss-priority low code-points 011010;
            }
            forwarding-class H2 {
                loss-priority low code-points 100010;
            }
            forwarding-class EF {
                loss-priority low code-points 101110;
            }
            forwarding-class NC {
                loss-priority low code-points 110000;
            }
        }
        exp CL-EXP {
            forwarding-class BE {
                loss-priority low code-points 001;
                loss-priority high code-points 000;
            }
            forwarding-class AF {
                loss-priority low code-points 010;
            }
            forwarding-class L1 {
                loss-priority low code-points 011;
            }
            forwarding-class H2 {
                loss-priority low code-points 100;
            }
            forwarding-class EF {
                loss-priority low code-points 101;
            }
            forwarding-class NC {
                loss-priority low code-points 110;
            }
        }
        ieee-802.1 CL-802.1p {
            forwarding-class BE {
                loss-priority low code-points 001;
                loss-priority high code-points 000;
            }
            forwarding-class AF {
                loss-priority low code-points 010;
            }
            forwarding-class L1 {
                loss-priority low code-points 011;
            }
            forwarding-class H2 {
                loss-priority low code-points 100;
            }
            forwarding-class EF {
                loss-priority low code-points 101;
            }
            forwarding-class NC {
                loss-priority low code-points 110;
            }
        }
        inet-precedence CL-INET-PRECEDENCE {
            forwarding-class BE {
                loss-priority low code-points 001;
                loss-priority high code-points 000;
            }
            forwarding-class AF {
                loss-priority low code-points 010;
            }
            forwarding-class L1 {
                loss-priority low code-points 011;
            }
            forwarding-class H2 {
                loss-priority low code-points 100;
            }
            forwarding-class EF {
                loss-priority low code-points 101;
            }
            forwarding-class NC {
                loss-priority low code-points 110;
            }
        }
    }
    host-outbound-traffic {
        forwarding-class NC;
        dscp-code-point 110000;
    }
    forwarding-classes {
        class BE queue-num 0;
        class AF queue-num 2;
        class NC queue-num 3;
        class L1 queue-num 4;
        class H2 queue-num 5;
        class EF queue-num 6;
    }
    interfaces { 		
        xe-7/0/0 {
            scheduler-map queue-table;
            unit 0 {
                classifiers {
                    dscp CL-DSCP;
                    exp CL-EXP;
                }
                rewrite-rules {
                    exp RW-EXP protocol mpls-any;
                }
            }
        } 		
        xe-0/0/0 {
            scheduler-map queue-table;
            unit 0 {
                classifiers {
                    dscp CL-DSCP;
                    exp CL-EXP;
                }
                rewrite-rules {
                    exp RW-EXP protocol mpls-any;
                }
            }
        }
				ae1 {
            scheduler-map queue-table;
                /* unit 2412 VOD-ICMP-IP  */
                
                /* unit 2613 Trust-3G-VNP  */
                
                /* unit 2662 Trust-3G-VNP  */
                
                /* unit 2712 Trust-3G-VNP  */
                
                /* unit 2812 Trust-3G-VNP  */
                
                /* unit 2862 Trust-3G-VNP  */
                
			}
				ae2 {
            scheduler-map queue-table;
                /* unit 2412 VOD-ICMP-IP  */
                
			}
				ae3 {
            scheduler-map queue-table;
                /* unit 2412 VOD-ICMP-IP  */
                
			}
				ge-0/3/0 {
            scheduler-map queue-table;
                /* unit 2412 VOD-ICMP-IP  */
                
                /* unit 2613 Trust-3G-VNP  */
                
                /* unit 2662 Trust-3G-VNP  */
                
                /* unit 2712 Trust-3G-VNP  */
                
                /* unit 2762 Trust-3G-VNP  */
                
			}
				ge-0/3/1 {
            scheduler-map queue-table;
			}
				ge-0/2/2 {
            scheduler-map queue-table;
                /* unit 2412 VOD-ICMP-IP  */
                
                /* unit 2462 VOD_MIMOSATV_IN  */
                
			}
				ge-0/2/3 {
            scheduler-map queue-table;
                /* unit 2412 VOD-ICMP-IP  */
                
                /* unit 2462 VOD_MIMOSATV_IN  */
                
                /* unit 2613 Trust-3G-VNP  */
                
			}
				ge-0/2/5 {
            scheduler-map queue-table;
                /* unit 2412 VOD-ICMP-IP  */
                
                /* unit 2462 VOD_MIMOSATV_IN  */
                
                /* unit 2613 Trust-3G-VNP  */
                
			}
				ge-0/2/7 {
            scheduler-map queue-table;
                /* unit 2412 VOD-ICMP-IP  */
                
                /* unit 2462 VOD_MIMOSATV_IN  */
                
			}
				ge-0/2/9 {
            scheduler-map queue-table;
                /* unit 2412 VOD-ICMP-IP  */
                
			}
    }
    routing-instances {
        L2* {
            classifiers {
                exp CL-EXP;
            }
        }
        L3* {
            classifiers {
                exp CL-EXP;
            }
        }
    }
    rewrite-rules {
        dscp RW-DSCP {
            forwarding-class BE {
                loss-priority low code-point 001000;
                loss-priority high code-point 000000;
            }
            forwarding-class AF {
                loss-priority low code-point 010010;
            }
            forwarding-class L1 {
                loss-priority low code-point 011010;
            }
            forwarding-class H2 {
                loss-priority low code-point 100010;
            }
            forwarding-class EF {
                loss-priority low code-point 101110;
            }
            forwarding-class NC {
                loss-priority low code-point 110000;
            }
        }
        exp RW-EXP {
            forwarding-class BE {
                loss-priority low code-point 001;
                loss-priority high code-point 000;
            }
            forwarding-class AF {
                loss-priority low code-point 010;
            }
            forwarding-class L1 {
                loss-priority low code-point 011;
            }
            forwarding-class EF {
                loss-priority low code-point 101;
            }
            forwarding-class NC {
                loss-priority low code-point 110;
            }
            forwarding-class H2 {
                loss-priority low code-point 100;
            }
        }
        ieee-802.1 RW-802.1p {
            forwarding-class BE {
                loss-priority low code-point 001;
                loss-priority high code-point 000;
            }
            forwarding-class AF {
                loss-priority low code-point 010;
            }
            forwarding-class L1 {
                loss-priority low code-point 011;
            }
            forwarding-class H2 {
                loss-priority low code-point 100;
            }
            forwarding-class EF {
                loss-priority low code-point 101;
            }
            forwarding-class NC {
                loss-priority low code-point 110;
            }
        }
        inet-precedence RW-INET-PRECDENCE {
            forwarding-class BE {
                loss-priority low code-point 001;
                loss-priority high code-point 000;
            }
            forwarding-class AF {
                loss-priority low code-point 010;
            }
            forwarding-class L1 {
                loss-priority low code-point 011;
            }
            forwarding-class H2 {
                loss-priority low code-point 100;
            }
            forwarding-class EF {
                loss-priority low code-point 101;
            }
            forwarding-class NC {
                loss-priority low code-point 110;
            }
        }
    }
    scheduler-maps {
        queue-table {
            forwarding-class NC scheduler s-NC;
            forwarding-class BE scheduler s-BE;
            forwarding-class AF scheduler s-AF;
            forwarding-class L1 scheduler s-L1;
            forwarding-class H2 scheduler s-H2;
            forwarding-class EF scheduler s-EF;
        }
    }
    schedulers {
        s-NC {
            transmit-rate percent 1;
            buffer-size percent 1;
            priority high;
        }
        s-EF {
            transmit-rate percent 15;
            buffer-size percent 15;
            priority strict-high;
        }
        s-H2 {
            transmit-rate percent 30;
            buffer-size percent 30;
            priority medium-high;
        }
        s-L1 {
            transmit-rate percent 15;
            buffer-size percent 15;
            priority medium-high;
        }
        s-AF {
            transmit-rate percent 10;
            buffer-size percent 10;
            priority medium-high;
        }
        s-BE {
            transmit-rate percent 29;
            buffer-size percent 29;
            priority low;
        }
    }
}
firewall {
    family inet {
        filter RPF-ALLOW-DHCP {
            term ALLOW-DHCP-DISCOVER-REQUEST {
                from {
                    source-address {
                        0.0.0.0/32;
                    }
                    destination-address {
                        255.255.255.255/32;
                    }
                    protocol udp;
                    source-port 68;
                    destination-port 67;
                }
                then accept;
            }
            term DISCARD-ALL {          
                then {
                    discard;
                }
            }
        }
        filter PROTECT-RE-FILTER {
            term DISCARD-SMALL-PACKETS {
                from {
                    packet-length 0-24;
                }
                then {
                    count DISCARD-SMALL-PACKETS;
                    discard;
                }
            }
            term DISCARD-FIRST-FRAG {
                from {
                    first-fragment;
                }
                then {
                    count DISCARD-FIRST-FRAG;
                    inactive: syslog;
                    discard;
                }
            }
            term DISCARD-NEXT-FRAG {
                from {
                    is-fragment;
                }
                then {
                    count DISCARD-NEXT-FRAG;
                    inactive: syslog;
                    discard;
                }
            }
            term ACCEPT-BFD {
                from {
                    source-prefix-list {
                        INTERFACE-PREFIXES;
                        INTERNAL-LO0-PREFIXES;
                    }
                    protocol udp;
                    destination-port [ 3784-3785 4784 ];
                }
                then {
                    count ACCEPT-BFD;
                    accept;
                }
            }
            term ACCEPT-LDP-DISCOVER {
                from {
                    source-prefix-list {
                        INTERFACE-PREFIXES;
                        INTERNAL-LO0-PREFIXES;
                    }
                    protocol udp;
                    port ldp;
                }
                then {
                    count ACCEPT-LDP-DISCOVER;
                    accept;
                }
            }
            term ACCEPT-LDP-UNICAST {
                from {
                    source-prefix-list {
                        INTERFACE-PREFIXES;
                        INTERNAL-LO0-PREFIXES;
                    }
                    protocol tcp;
                    port ldp;
                }
                then {
                    count ACCEPT-LDP-UNICAST;
                    accept;
                }
            }
            term ACCEPT-RSVP {
                from {
                    source-prefix-list {
                        INTERFACE-PREFIXES;
                        INTERNAL-LO0-PREFIXES;
                    }
                    protocol rsvp;
                }
                then {
                    count ACCEPT-RSVP;
                    accept;
                }
            }
            term ACCEPT-BGP {
                from {
                    source-prefix-list {
                        BGP-NEIGHBORS;
                        BGP-NEIGHBORS-RI;
                    }
                    protocol tcp;
                    port bgp;
                }
                then {
                    count ACCEPT-BGP;
                    accept;
                }
            }
            term ACCEPT-PIM {
                from {
                    source-prefix-list {
                        INTERFACE-PREFIXES;
                    }
                    protocol pim;
                }
                then {
                    policer POLICER-PIM;
                    count ACCEPT-PIM;
                    accept;
                }
            }
            term DISCARD-IGMP-QUERY {
                from {
                    destination-address {
                        224.0.0.1/32;
                    }
                    protocol igmp;
                }
                then {
                    count DISCARD-IGMP-QUERY;
                    discard;
                }
            }
            term ACCEPT-IGMP-REPORT {
                from {
                    protocol igmp;
                }
                then {
                    policer POLICER-IGMP-REPORT;
                    count ACCEPT-IGMP-REPORT;
                    accept;
                }
            }
            term ACCEPT-DHCP {
                from {
                    protocol udp;
                    port [ 67 68 ];
                }
                then {
                    count ACCEPT-DHCP;
                    accept;
                }
            }
            term ACCEPT-OSPF {
                from {
                    source-prefix-list {
                        INTERFACE-PREFIXES;
                    }
                    protocol ospf;
                }
                then {
                    count ACCEPT-OSPF;
                    accept;
                }
            }
            term ACCEPT-RIP {
                from {
                    destination-address {
                        224.0.0.9/32;
                    }
                    source-prefix-list {
                        INTERFACE-PREFIXES;
                    }
                    protocol udp;
                    source-port rip;
                    destination-port rip;
                }
                then {
                    count ACCEPT-RIP;
                    accept;
                }
            }
            term ACCEPT-VRRP {
                from {
                    destination-address {
                        224.0.0.18/32;
                    }
                    source-prefix-list {
                        INTERFACE-PREFIXES;
                    }
                    protocol vrrp;
                }
                then {
                    policer POLICER-VRRP;
                    count ACCEPT-VRRP;
                    accept;
                }
            }
            term ACCEPT-TELNET-SSH {
                from {
                    source-prefix-list {
                        MGMT-PREFIXES;
                        INTERNAL-NNI-PREFIXES;
                        INTERNAL-LO0-PREFIXES;
                    }
                    protocol tcp;
                    port [ ssh telnet ];
                }
                then {
                    policer POLICER-TELNET-SSH;
                    count ACCEPT-TELNET-SSH;
                    accept;
                }
            }
			/* Allow telnet/ssh out from router to L2 access devices*/
			term ACCEPT-TELNET-SSH-OUT {
				from {
					source-prefix-list {
						L2ACCESS-PREFIXES;
					}
					protocol tcp;
					source-port [ ssh telnet ];
				}
				then {
					policer POLICER-TELNET-SSH;
					count ACCEPT-TELNET-SSH-OUT;
					accept;
				}
			}			
            term ACCEPT-NETCONF {
                from {
                    source-prefix-list {
                        MGMT-PREFIXES;
                    }
                    protocol tcp;
                    destination-port 830;
                }
                then {
                    count ACCEPT-NETCONF;
                    accept;
                }
            }
            term ACCEPT-FTP {
                from {
                    source-prefix-list {
                        MGMT-PREFIXES;
                    }
                    protocol tcp;
                    port [ ftp ftp-data ];
                }
                then {
                    policer POLICER-FTP;
                    count ACCEPT-FTP;
                    accept;
                }
            }
            term ACCEPT-SNMP {
                from {
                    source-prefix-list {
                        SNMP-CLIENT-PREFIXES;
                    }
                    protocol udp;
                    destination-port snmp;
                }
                then {
                    count ACCEPT-SNMP;
                    accept;
                }
            }
            term ACCEPT-NTP {
                from {
                    source-prefix-list {
                        NTP-SERVER;
                        NTP-SOURCE-ADDRESS;
                    }
                    protocol udp;
                    port ntp;
                }
                then {
                    count ACCEPT-NTP;
                    accept;
                }
            }
            /* Use only on NTP Server: P-HBT1 and P-TBI1 */
            inactive: term ACCEPT-NTP-SERVER {
                from {
                    prefix-list {
                        INTERNAL-LO0-PREFIXES;
                    }
                    protocol udp;
                    destination-port ntp;
                }
                then {
                    count ACCEPT-NTP-SERVER;
                    accept;
                }
            }
            term DISCARD-NTP {
                from {
                    protocol udp;
                    port ntp;
                }
                then {
                    count DISCARD-NTP;
                    inactive: syslog;
                    discard;
                }
            }
            term ACCEPT-TACACS {
                from {
                    source-prefix-list {
                        TACACS-SERVERS;
                    }
                    protocol [ tcp udp ];
                    source-port [ tacacs tacacs-ds ];
                }
                then {
                    count ACCEPT-TACACS;
                    accept;
                }
            }
            term ACCEPT-ICMP-INTERNAL {
                from {
                    source-prefix-list {
                        MGMT-PREFIXES;
                        INTERNAL-NNI-PREFIXES;
                        INTERNAL-LO0-PREFIXES;
                    }
                    protocol icmp;
                    icmp-type [ echo-request echo-reply time-exceeded unreachable ];
                }
                then {
                    policer POLICER-ICMP-INTERNAL;
                    count ACCEPT-ICMP-INTERNAL;
                    accept;
                }
            }
            term ACCEPT-ICMP-EXTERNAL {
                from {
                    protocol icmp;
                    icmp-type [ echo-request echo-reply time-exceeded unreachable ];
                }
                then {
                    policer POLICER-ICMP-EXTERNAL;
                    count ACCEPT-ICMP-EXTERNAL;
                    accept;
                }
            }
            term ACCEPT-LSP-PING {
                from {
                    source-prefix-list {
                        INTERNAL-NNI-PREFIXES;
                        INTERNAL-LO0-PREFIXES;
                    }
                    protocol udp;
                    port 3503;
                }
                then {
                    count ACCEPT-LSP-PING;
                    accept;
                }
            }
            term ACCEPT-TRACEROUTE-UDP {
                from {
                    protocol udp;
                    ttl 1;
                    destination-port 33434-33523;
                }
                then {
                    policer POLICER-TRACEROUTE-UDP;
                    count ACCEPT-TRACEROUTE-UDP;
                    accept;
                }
            }
            term ACCEPT-GRE {
                from {
                    protocol gre;
                }
                then {
                    policer POLICER-GRE;
                    count ACCEPT-GRE;
                    accept;
                }
            }
            term DISCARD-ALL {
                then {
                    count DISCARD-ALL;
                    inactive: syslog;
                    discard;
                }
            }
        }
    }
    family vpls {
            filter BUM-3G_VMS_IUP_1008 {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-3G_VMS_IUP_1009 {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-3G_VMS_IUP_1300 {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-3G_VMS_MUP_1800 {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-3G_VMS_MUP_2008 {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-3G_VMS_MUP_2009 {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-AGRIBANK-LDG-NT {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-AGRIBANK-LDG2-NT {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-BD_TW {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-DSLAM_NMS {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-DSLAM_NMS1 {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-EP_VNPTLDG_test {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-GPON_4000 {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-GPON_ALCATEL_NMS {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-GPON_NMS {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-MXU_NMS {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-NMS_OSN_VL13 {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-SWL2_FTTH_960_1/8 {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-SWL2_FTTH_QINQ_MAN_960 {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-SWL2_LAG1_NINHGIA {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-SWL2_NMS {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-VODMIMOSATV {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-VPN_1410_10 {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-VLAN-2613 {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-VLAN-2662 {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-VLAN-2712 {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-VLAN-2762 {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-VLAN-2812 {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-VLAN-2862 {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
    }
    policer POLICER-PIM {
        if-exceeding {
            bandwidth-limit 1m;
            burst-size-limit 128k;
        }
        then discard;
    }
    policer POLICER-IGMP-REPORT {
        if-exceeding {
            bandwidth-limit 1m;
            burst-size-limit 15k;
        }
        then discard;
    }
    policer POLICER-VRRP {
        if-exceeding {
            bandwidth-limit 1m;
            burst-size-limit 128k;
        }
        then discard;
    }
    policer POLICER-TELNET-SSH {
        if-exceeding {
            bandwidth-limit 2m;
            burst-size-limit 75k;
        }
        then discard;
    }
    policer POLICER-FTP {
        if-exceeding {
            bandwidth-limit 10m;
            burst-size-limit 320k;
        }
        then discard;
    }
    policer POLICER-ICMP-INTERNAL {
        if-exceeding {
            bandwidth-limit 3m;
            burst-size-limit 15k;
        }
        then discard;
    }
    policer POLICER-ICMP-EXTERNAL {
        if-exceeding {
            bandwidth-limit 2m;
            burst-size-limit 15k;
        }
        then discard;
    }
    policer POLICER-TRACEROUTE-UDP {
        if-exceeding {
            bandwidth-limit 1m;
            burst-size-limit 125k;
        }
        then discard;
    }
    policer POLICER-GRE {
        if-exceeding {
            bandwidth-limit 256k;
            burst-size-limit 15k;
        }
        then discard;
    }
    policer POLICER-MCAST{
        if-exceeding {
            bandwidth-limit 512k;
            burst-size-limit 512k;
        }
        then discard;
    }
    policer POLICER-BCAST{
        if-exceeding {
            bandwidth-limit 512k;
            burst-size-limit 512k;
        }
        then discard;
    }
}

routing-instances {
    L3-ENODEB-OAM {
        instance-type vrf;
        interface irb.2762;
        route-distinguisher 65061:2074808022;
        vrf-import PS-IMP-ENODEB-OAM;
        vrf-export PS-EXP-ENODEB-OAM;
        vrf-table-label;
        routing-options {
            auto-export;
			protect core;            
        }
        
    }
    L3-ENODEB-SERVICE {
        instance-type vrf;
        interface irb.2712;
        interface irb.2812;
        route-distinguisher 65061:2074807022;
        vrf-import PS-IMP-ENODEB-SERVICE;
        vrf-export PS-EXP-ENODEB-SERVICE;
        vrf-table-label;
        routing-options {
            auto-export;
			protect core;            
        }
        
    }
    L3-IUB-3G-L3-VNP {
        instance-type vrf;
        interface irb.2613;
        interface irb.2662;
        route-distinguisher 65061:2074801022;
        vrf-import PS-IMP-IUB-3G-L3-VNP;
        vrf-export PS-EXP-IUB-3G-L3-VNP;
        vrf-table-label;
        routing-options {
            auto-export;
			protect core;
            	static {
                    route 10.208.34.172/30 {
							qualified-next-hop 10.209.42.117;
                    }
                    route 10.208.34.80/30 {
							qualified-next-hop 10.209.42.116;
                    }
                    route 10.208.42.32/29 {
							qualified-next-hop 10.209.42.100;
                    }
                    route 10.208.43.168/29 {
							qualified-next-hop 10.209.42.101;
                    }
                    route 10.208.43.176/29 {
							qualified-next-hop 10.209.42.102;
                    }
                    route 10.208.43.200/29 {
							qualified-next-hop 10.209.42.105;
                    }
                    route 10.208.43.208/29 {
							qualified-next-hop 10.209.42.106;
                    }
                    route 10.208.43.216/29 {
							qualified-next-hop 10.209.42.107;
                    }
                    route 10.208.43.224/29 {
							qualified-next-hop 10.209.42.108;
                    }
                    route 10.208.43.232/29 {
							qualified-next-hop 10.209.42.109;
                    }
                    route 10.208.45.184/29 {
							qualified-next-hop 10.209.42.110;
                    }
                    route 10.208.47.112/29 {
							qualified-next-hop 10.209.42.114;
                    }
                    route 10.208.51.128/29 {
							qualified-next-hop 10.209.42.112;
                    }
                    route 10.208.51.136/29 {
							qualified-next-hop 10.209.42.113;
                    }
                }            
        }
        
    }
    L3-TSLCD-KHOICHINHQUYEN-2990 {
        instance-type vrf;
        route-distinguisher 65061:2242023001;
        vrf-import PS-IMP-TSLCD-KHOICHINHQUYEN-2990;
        vrf-export PS-EXP-TSLCD-KHOICHINHQUYEN-2990;
        vrf-table-label;
        routing-options {
            auto-export;
			protect core;            
        }
        
    }
    L3-VPRN-311005514 {
        instance-type vrf;
        description "##NMS CPE##";
        interface ae2.4002;
        interface ae3.4002;
        route-distinguisher 65061:1100550022;
        vrf-import PS-IMP-VPRN-311005514;
        vrf-export PS-EXP-VPRN-311005514;
        vrf-table-label;
        routing-options {
            auto-export;
			protect core;
            	static {
                    route 10.89.80.0/20 {
							qualified-next-hop 172.18.176.218;
                    }
                    route 10.90.32.0/22 {
							qualified-next-hop 172.18.177.86;
                    }
                }            
        }
        
    }
    L3-VoD-LDG {
        instance-type vrf;
        interface ae1.2412;
        interface ae2.2412;
        interface ae3.2412;
        interface ge-0/3/0.2412;
        interface ge-0/2/2.2412;
        interface ge-0/2/3.2412;
        interface ge-0/2/5.2412;
        interface ge-0/2/7.2412;
        interface ge-0/2/9.2412;
        interface lo0.2412;
        route-distinguisher 65061:2099801022;
        vrf-import PS-IMP-VoD-LDG;
        vrf-export PS-EXP-VoD-LDG;
        vrf-table-label;
        routing-options {
            auto-export;
			protect core;
            	static {
                    route 10.50.32.0/19 {
							discard;
                    }
                }            
        }
		forwarding-options {
            dhcp-relay {
                server-group  {
                    server-1 {
                        172.16.9.2;
                    }
                }
                group interface-1 {
                    active-server-group server-1;
                    interface ae1.2412;
                    interface ae2.2412;
                    interface ae3.2412;
                    interface ge-0/3/0.2412;
                    interface ge-0/2/2.2412;
                    interface ge-0/2/3.2412;
                    interface ge-0/2/5.2412;
                    interface ge-0/2/7.2412;
                    interface ge-0/2/9.2412;
                }
            }
        }
        
    }
        L2-3G_VMS_IUP_1008 {
            instance-type vpls;
                interface ae1.1008;
                interface ge-0/3/0.1008;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-3G_VMS_IUP_1008;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1600011008;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-3G_VMS_IUP_1009 {
            instance-type vpls;
                interface ae1.1009;
                interface ge-0/3/0.1009;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-3G_VMS_IUP_1009;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1600011009;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-3G_VMS_IUP_1300 {
            instance-type vpls;
                interface ae1.1300;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-3G_VMS_IUP_1300;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1600010030;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-3G_VMS_MUP_1800 {
            instance-type vpls;
                interface ae1.1800;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-3G_VMS_MUP_1800;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1600010110;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-3G_VMS_MUP_2008 {
            instance-type vpls;
                interface ae1.2008;
                interface ge-0/3/0.2008;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-3G_VMS_MUP_2008;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1600012008;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-3G_VMS_MUP_2009 {
            instance-type vpls;
                interface ae1.2009;
                interface ge-0/3/0.2009;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-3G_VMS_MUP_2009;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1600012009;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-AGRIBANK-LDG-NT {
            instance-type vpls;
                interface ae1.1402;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-AGRIBANK-LDG-NT;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1600100190;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-AGRIBANK-LDG2-NT {
            instance-type vpls;
                interface ae1.1428;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-AGRIBANK-LDG2-NT;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1600101428;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-BD_TW {
            instance-type vpls;
                interface ge-0/2/2.2700;
                interface ge-0/2/5.2700;
                interface ge-0/2/7.2700;
                interface ge-0/2/9.2700;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-BD_TW;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1600107770;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-DSLAM_NMS {
            instance-type vpls;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-DSLAM_NMS;
                    }
                }
            }
            protocols {
                 inactive: vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1600109990;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-DSLAM_NMS1 {
            instance-type vpls;
                interface ae1.3999;
                interface ge-0/3/0.3999;
                interface ge-0/2/2.3999;
                interface ge-0/2/3.3999;
                interface ge-0/2/5.3999;
                interface ge-0/2/7.3999;
                interface ge-0/2/9.3999;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-DSLAM_NMS1;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1600109991;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-EP_VNPTLDG_test {
            instance-type vpls;
                interface ae1.2399;
                interface ge-0/3/0.2399;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-EP_VNPTLDG_test;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1701808880;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-GPON_4000 {
            instance-type vpls;
                interface ae2.3000;
                interface ae3.3000;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-GPON_4000;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1600169990;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-GPON_ALCATEL_NMS {
            instance-type vpls;
                interface ae2.3991;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-GPON_ALCATEL_NMS;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1600119970;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-GPON_NMS {
            instance-type vpls;
                interface ae3.3997;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-GPON_NMS;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1600119960;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-MXU_NMS {
            instance-type vpls;
                interface ae1.3994;
                interface ge-0/2/9.3994;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-MXU_NMS;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1600109930;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-NMS_OSN_VL13 {
            instance-type vpls;
                interface ae1.13;
                interface ge-0/3/0.13;
                interface ge-0/2/7.13;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-NMS_OSN_VL13;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1600100020;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-SWL2_FTTH_960_1/8 {
            instance-type vpls;
            description "** Connect to BRAS MX960 - 1/8 **";
                interface ae1.1112;
                interface ae1.1212;
                interface ge-0/3/0.1112;
                interface ge-0/3/0.1122;
                interface ge-0/3/0.1212;
                interface ge-0/2/3.1112;
                interface ge-0/2/5.1112;
                interface ge-0/2/7.1112;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-SWL2_FTTH_960_1/8;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1102217180;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                                neighbor 123.29.47.2 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-SWL2_FTTH_QINQ_MAN_960 {
            instance-type vpls;
            description "** Connect to BRAS MX960 - 0/0 **";
                interface ae1.1122;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-SWL2_FTTH_QINQ_MAN_960;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1112512050;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-SWL2_LAG1_NINHGIA {
            instance-type vpls;
                interface ge-0/3/0.3622;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-SWL2_LAG1_NINHGIA;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1402210580;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-SWL2_NMS {
            instance-type vpls;
                interface ae1.3996;
                interface ge-0/3/0.3996;
                interface ge-0/2/5.3996;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-SWL2_NMS;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1600109980;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-VODMIMOSATV {
            instance-type vpls;
                interface ge-0/2/2.2462;
                interface ge-0/2/3.2462;
                interface ge-0/2/5.2462;
                interface ge-0/2/7.2462;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-VODMIMOSATV;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1202200980;
                        mesh-group NO-SPLIT {
                            local-switching;
                                neighbor 123.29.47.2 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-VPN_1410_10 {
            instance-type vpls;
                interface ae1.1162;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-VPN_1410_10;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1102217110;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-VLAN-2613 {
            instance-type vpls;
                interface ae1.2613;
                interface ge-0/3/0.2613;
                interface ge-0/3/1.2613;
                interface ge-0/2/3.2613;
                interface ge-0/2/5.2613;      
                routing-interface irb.2613;
                vlan-id none;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-VLAN-2613;
                    }
                }
            }
        }
        L2-VLAN-2662 {
            instance-type vpls;
                interface ae1.2662;
                interface ge-0/3/0.2662;
                interface ge-0/2/5.2662;      
                routing-interface irb.2662;
                vlan-id none;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-VLAN-2662;
                    }
                }
            }
        }
        L2-VLAN-2712 {
            instance-type vpls;
                interface ae1.2712;
                interface ge-0/3/0.2712;
                interface ge-0/2/5.2712;      
                routing-interface irb.2712;
                vlan-id none;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-VLAN-2712;
                    }
                }
            }
        }
        L2-VLAN-2762 {
            instance-type vpls;
                interface ae1.2762;
                interface ge-0/3/0.2762;
                interface ge-0/2/5.2762;      
                routing-interface irb.2762;
                vlan-id none;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-VLAN-2762;
                    }
                }
            }
        }
        L2-VLAN-2812 {
            instance-type vpls;
                interface ae1.2812;      
                routing-interface irb.2812;
                vlan-id none;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-VLAN-2812;
                    }
                }
            }
        }
        L2-VLAN-2862 {
            instance-type vpls;
                interface ae1.2862;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-VLAN-2862;
                    }
                }
            }
        }
}