groups {
    re0 {
        system {
            host-name MX960-LDG03THA_RE0;
        }
        interfaces {
            fxp0 {
				description "Connect to MGT Cisco 7600 - OLD";					
                unit 0 {		
                    family inet {
                        address 10.70.255.254/30 {
                            master-only;
                        }
                    }
                }
            }
        }
    }
    re1 {
        system {
            host-name MX960-LDG03THA_RE1;
        }
        interfaces {
            fxp0 {
				description "Connect to MGT Cisco 7600 - OLD";					
                unit 0 {
                    family inet {
                        address 10.70.255.254/30 {
                            master-only;
                        }
                    }
                }
            }
        }
    }
    PROTECT-RE-GROUP {
        interfaces {
            lo0 {
                unit <*> {
                    family inet {
                        filter {
                            input PROTECT-RE-FILTER;
                        }
                    }
                    inactive: family inet6 {
                        filter {
                            input v6-PROTECT-RE-FILTER;
                        }
                    }
                }
            }
        }
    }
    PING-VPLS {
        interfaces {
            lt-0/0/10 {
                unit 1 {
                    encapsulation ethernet;
                    peer-unit 2;
                    family inet {
                        /* Change IP according to Customer IP range */
                        address 192.168.254.100/24;
                    }
                }
                /* Put this IFL in VPLS instance that need to ping check in case without VLAN-ID in pseudowire */
                unit 2 {
                    encapsulation ethernet-vpls;
                    peer-unit 1;
                }
                unit 3 {
                    encapsulation vlan;
                    /* Change VLAN-ID according to Customer VLAN-ID */
                    vlan-id 100;
                    peer-unit 4;
                    family inet {
                        /* Change IP according to Customer IP range */
                        address 192.168.255.100/24;
                    }
                }
                /* Put this IFL in VPLS instance that need to ping check in case with VLAN-ID in pseudowire */
                unit 4 {
                    encapsulation vlan-vpls;
                    /* Change VLAN-ID according to Customer VLAN-ID */
                    vlan-id 100;
                    peer-unit 3;
                }
            }
        }
        routing-instances {
            VPLS-PING-NOVLAN {
                instance-type virtual-router;
                interface lt-0/0/10.1;
            }
            VPLS-PING-VLAN {
                instance-type virtual-router;
                interface lt-0/0/10.3;
            }
        }
    }
	BLOCK-BPDU-VPLS {
		firewall {
			family vpls {
				filter BLOCK-BPDU {
					term BLOCK-INVALID-BPDU {
						from {
							destination-mac-address {
								/* Bridging not allowed by 802.1D */
								01:80:c2:00:00:00/44;
								/* Bridge mgmt group address - Deprecated */
								01:80:c2:00:00:10/48;
								/* Cisco ISL */
								01:00:0c:00:00:00/48;
								/* Cisco CDP,VTP,PVST ... */
								01:00:0c:cc:cc:cc/47;
								/* Cisco inter-vlan bridging */
								01:00:0c:cc:cc:ce/48;
							}
						}
						then {
							count INVALID-BPDU;
							discard;
						}
					}
					term ACCEPT-REST {
						then accept;
					}
				}
			}
		}
		routing-instances {
			<L2-*> {
				forwarding-options {
					family vpls {
						filter {
							input BLOCK-BPDU;
						}
					}
				}
			}
		}
	}	
}
apply-groups [ re0 re1 BLOCK-BPDU-VPLS];
system {
    time-zone Asia/Saigon;
    switchover-on-routing-crash;
    no-multicast-echo;
    no-redirects;
    no-redirects-ipv6;
    internet-options {
        no-source-quench;
        tcp-drop-synfin-set;
    }
    /* Will remove knob "password" in production network */
    authentication-order password;
    ports {
        console {
            type vt100;
        }
        auxiliary disable;
    }
    root-authentication {
        encrypted-password "$1$CpR/YIUJ$rhJ6IsID4wxDMvzjH01lK."; ## SECRET-DATA
    }
    inactive: tacplus-server {
        172.16.252.250 {
            port 49;
            secret "$9$F71YnCuREyWLN-V5Fn/0OylKvxdsYo"; ## SECRET-DATA
            timeout 5;
            source-address 123.29.47.20;
        }
    }
    /* Will be active in production network */
    inactive: accounting {
        events [ login change-log interactive-commands ];
        destination {
            tacplus {
                server {
                    172.16.252.250 {
                        port 49;
                        secret "$9$F71YnCuREyWLN-V5Fn/0OylKvxdsYo"; ## SECRET-DATA
                        timeout 5;
                        single-connection;
                        source-address 123.29.47.20;
                    }
                }
            }
        }
    }
    login {
        message "--------------------------------------------------------------------------------\n                   MANE - VIEN THONG THANH PHO HO CHI MINH\n\n                   BAN DANG LOGIN VAO THIET BI MX960-LDG03THA\n--------------------------------------------------------------------------------\n\n";
        class KTBR-VIEW {
            idle-timeout 10;
            permissions [ network view view-configuration];
        }
        /* Thong tin User se duoc lay truc tiep tai moi tinh */
        class admin {
            idle-timeout 5;
            permissions all;
        }
        class khaithac {
            idle-timeout 5;
            permissions [ network trace view ];
        }
        class noc {
            idle-timeout 15;
            permissions view;
        }
        user admin {
            uid 2003;
            class admin;
            authentication {
                encrypted-password "$1$WTKwNPK4$X363sk/YjRmN5/gFi4b931"; ## SECRET-DATA
            }
        }
        user juniper {
            uid 2002;
            class admin;
            authentication {
                encrypted-password "$1$djd6e6S8$WGhXwNELgexqYPvlkx9Mq0"; ## SECRET-DATA
            }
        }
        user ktbr-view {
            uid 2015;
            class KTBR-VIEW;
        }
        user remote {
            uid 2005;
            class khaithac;
        }
        user remote-su {
            uid 2006;
            class admin;
        }
    }
    services {
        ftp;
        ssh {
            root-login deny;
            protocol-version v2;
            connection-limit 15;
        }
        telnet {
            connection-limit 30;
            rate-limit 45;
        }
        netconf {
            ssh {
                connection-limit 10;
                rate-limit 4;
            }
        }
    }
    syslog {
        archive size 10m files 10;
        user * {
            any emergency;
        }
	        host 10.61.1.24 {
	        	any notice;
	            daemon any;
	            kernel any;
	            interactive-commands any;
	            facility-override local7;
	            log-prefix MX960-LDG03THA;
	        }
        host other-routing-engine {
            any error;
            log-prefix other-RE;
        }
        file messages {
            any info;
            authorization none;
            firewall none;
            interactive-commands none;
            archive world-readable;
            explicit-priority;
        }
        file interactive-commands {
            interactive-commands any;
        }
        file security {
            authorization info;
        }
        file firewall-filter-log {
            firewall any;
        }
        file config-changes {
            change-log info;
        }
        time-format year millisecond;
        source-address 123.29.47.20;
    }
    commit {
        synchronize;
        no-delta-synchronize;
        private {
            no-fast-diff;
        }
    }
    ddos-protection {
        protocols {
            arp {
                aggregate {
                    bandwidth 5000;
                    burst 5000;
                }
            }
        }
    }
    ntp {
	        server 123.29.47.1;
        source-address 123.29.47.20;
    }
}
chassis {
    craft-lockout;
    dump-on-panic;
    enhanced-policer;
    redundancy {
        routing-engine 0 master;
        routing-engine 1 backup;
        failover {
            on-loss-of-keepalives;
            on-disk-failure;
        }
        graceful-switchover;
    }
    aggregated-devices {
        ethernet {
            device-count 50;
        }
    }
    fpc 0 {
        pic 0 {
            tunnel-services {
                bandwidth 1g;
            }
        }
    }
    fpc 7 {
        pic 0 {
            tunnel-services {
                bandwidth 1g;
            }
        }
    }
    alarm {
        management-ethernet {
            link-down ignore;
        }
    }
    network-services enhanced-ip;
}
interfaces {
    ae1 {
        description "** Connect to GPON ALCATEL TAN HA **";
                	flexible-vlan-tagging; 
                    encapsulation flexible-ethernet-services;
                    mtu 9022;
        unit 99 {
            description "** GPON_TANHA_10.61.54.44 - Multicast ** - SVLAN:99";
            vlan-id 99;
            family inet {
                unnumbered-address lo0.0;
            }
        }
		unit 1048 {
            description "** Connect to GPON ALCATEL TAN HA - HSI Dynamic ** - SVLAN:1048";
                    vlan-id 1048;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
        unit 2410 {
            description "SVLAN:2410";
            vlan-id 2410;
            family inet {
                rpf-check fail-filter RPF-ALLOW-DHCP;
                unnumbered-address lo0.2410 preferred-source-address 10.49.32.1;
            }
        }
		unit 3000 {
            description " NMS TR-069 GPON - ALCATEL ' - SVLAN:3000";
                    vlan-id 3000;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 3620 {
            description "** Connect SIP TRUNK CTY BA TRAI ** - SVLAN:501";
                    vlan-id 501;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 3991 {
            description "GPON ALCATEL NAMBAN - SVLAN:3991";
                    vlan-id 3991;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 4002 {
            description "SVLAN:4002";
                    vlan-id 4002;
                family inet {
                    address 172.18.176.249/30;
                }
        }
    }
    ae2 {
        description "** Connect to GPON ALCATEL LIENHA  - HSI Dynamic **";
                	flexible-vlan-tagging; 
                    encapsulation flexible-ethernet-services;
                    mtu 9022;
        unit 99 {
            description "** GPON_LIENG HA_10.61.54.38 - Multicast ** - SVLAN:99";
            vlan-id 99;
            family inet {
                unnumbered-address lo0.0;
            }
        }
		unit 1092 {
            description "** Connect to GPON ALCATEL LIENHA  - HSI Dynamic ** - SVLAN:1092";
                    vlan-id 1092;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
        unit 2410 {
            description "SVLAN:2410";
            vlan-id 2410;
            family inet {
                rpf-check fail-filter RPF-ALLOW-DHCP;
                unnumbered-address lo0.2410 preferred-source-address 10.49.32.1;
            }
        }
		unit 3000 {
            description "SVLAN:3000";
                    vlan-id 3000;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 3991 {
            description "** GPON_ALCATEL_LIENHA ** - SVLAN:3991";
                    vlan-id 3991;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 4002 {
            description "SVLAN:4002";
                    vlan-id 4002;
                family inet {
                    address 172.18.176.241/30;
                }
        }
    }
    ae4 {
        description "**  Connect to GPON ALCATEL TANTHANH -10.61.54.40";
                	flexible-vlan-tagging; 
                    encapsulation flexible-ethernet-services;
                    mtu 9022;
        unit 99 {
            description "**  Connect to GPON ALCATEL TANTHANH -10.61.54.40 - SVLAN:99";
            vlan-id 99;
            family inet {
                unnumbered-address lo0.0;
            }
        }
		unit 2110 {
            description "** Connect to GPON ALCATEL TAN THANH - HSI Dynamic ** - SVLAN:2110";
                    vlan-id 2110;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
        unit 2410 {
            description "SVLAN:2410";
            vlan-id 2410;
            family inet {
                rpf-check fail-filter RPF-ALLOW-DHCP;
                unnumbered-address lo0.2410 preferred-source-address 10.49.32.1;
            }
        }
		unit 3000 {
			disable;
            description " NMS TR-069 GPON - ALCATEL ' - SVLAN:3000";
                    vlan-id 3000;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 3991 {
            description "SVLAN:3991";
                    vlan-id 3991;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 4002 {
            description "SVLAN:4002";
                    vlan-id 4002;
                family inet {
                    address 172.18.176.253/30;
                }
        }
    }
    ge-0/2/7 {
        description "** Connect to LDG03LDC-g4/0/0 **";
                    hold-time up 5000 down 0;
                    mtu 9192;
            link-mode full-duplex;
            gigether-options {
                    auto-negotiation;
            }
		unit 0 {
            description "** Connect to LDG03LDC-g4/0/0 **";
                family inet {
                    address 10.61.0.89/30;
                }
                family iso;
                family mpls {
                    maximum-labels 5;
                }
        }
    }
    ge-0/2/0 { 
                /* check gia tri flex_serice 2 */
                    hold-time up 5000 down 0;
            link-mode full-duplex;
            gigether-options {
                    auto-negotiation;
                    802.3ad ae4;
            }
    }
    ge-0/2/1 { 
                /* check gia tri flex_serice 2 */
                    hold-time up 5000 down 0;
            link-mode full-duplex;
            gigether-options {
                    auto-negotiation;
                    802.3ad ae2;
            }
    }
    ge-0/3/0 { 
                /* check gia tri flex_serice 2 */
                    hold-time up 5000 down 0;
            link-mode full-duplex;
            gigether-options {
                    auto-negotiation;
                    802.3ad ae1;
            }
    }
    ge-0/3/1 {
        description "** Connect to OSN1500 TanHa 11/1 **";
                	flexible-vlan-tagging; 
                    encapsulation flexible-ethernet-services;
                    hold-time up 5000 down 0;
                    mtu 9022;
            link-mode full-duplex;
            gigether-options {
                    no-auto-negotiation;
            }
		unit 2610 {
            description "SVLAN:2610";
                    vlan-id 2610;
            encapsulation vlan-vpls;
                family vpls {
                            core-facing;
                        filter {
                             input FF-Trust-3G-VNP;
                             output FF-Trust-3G-VNP;
                        }
                }
        }
    }
    ge-0/2/1 {
        description "** Connect to Switch VFT Lien Ha - LDG.LHZ.TVT.L2S.V01.001 **";
                	flexible-vlan-tagging; 
                    encapsulation flexible-ethernet-services;
                    hold-time up 5000 down 0;
                    mtu 9022;
            link-mode full-duplex;
            gigether-options {
                    no-auto-negotiation;
            }
        unit 99 {
            description "** Connect to SWL2 Lien Ha - LDG.LHZ.TVT.L2S.V01.001 ** - SVLAN:99";
            vlan-id 99;
            family inet {
                unnumbered-address lo0.0;
            }
        }
		unit 1016 {
            description "** Connect to  NODEB_VMS KV_DLT for IUP ** - SVLAN:1016";
                    vlan-id 1016;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 1120 {
            description "SVLAN:1001-1015,1017-1019,1020,1021-1024";
                    vlan-id-list [ 1001-1015 1017-1019 1020 1021-1024 ];
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 2016 {
            description "** Connect to  NODEB_VMS KV_DLT for IUP ** - SVLAN:2016";
                    vlan-id 2016;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
        unit 2410 {
            description "SVLAN:2410";
            vlan-id 2410;
            family inet {
                rpf-check fail-filter RPF-ALLOW-DHCP;
                unnumbered-address lo0.2410 preferred-source-address 10.49.32.1;
            }
        }
		unit 2610 {
            description "SVLAN:2610";
                    vlan-id 2610;
            encapsulation vlan-vpls;
                family vpls {
                            core-facing;
                        filter {
                             input FF-Trust-3G-VNP;
                             output FF-Trust-3G-VNP;
                        }
                }
        }
		unit 3996 {
            description "SVLAN:3996";
                    vlan-id 3996;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
                family vpls {
                            core-facing;
                }
        }
    }
    ge-0/2/3 {
                    hold-time up 5000 down 0;
                    mtu 9192;
            link-mode full-duplex;
            gigether-options {
                    auto-negotiation;
            }
		unit 0 {
        }
    }
    ge-0/2/4 {
                    hold-time up 5000 down 0;
                    mtu 9192;
            link-mode full-duplex;
            gigether-options {
                    auto-negotiation;
            }
		unit 0 {
        }
    }
    ge-0/2/5 {
                    hold-time up 5000 down 0;
                    mtu 9192;
            link-mode full-duplex;
            gigether-options {
                    auto-negotiation;
            }
		unit 0 {
        }
    }
    ge-0/2/6 {
                    hold-time up 5000 down 0;
                    mtu 9192;
            link-mode full-duplex;
            gigether-options {
                    auto-negotiation;
            }
		unit 0 {
        }
    }
    ge-0/2/7 {
                    hold-time up 5000 down 0;
                    mtu 9192;
            link-mode full-duplex;
            gigether-options {
                    auto-negotiation;
            }
		unit 0 {
        }
    }
    ge-0/2/8 {
                    hold-time up 5000 down 0;
                    mtu 9192;
            link-mode full-duplex;
            gigether-options {
                    auto-negotiation;
            }
		unit 0 {
        }
    }
    ge-0/2/9 {
                    hold-time up 5000 down 0;
                    mtu 9192;
            link-mode full-duplex;
            gigether-options {
                    auto-negotiation;
            }
		unit 0 {
        }
    }
    xe-7/0/0 {
        description "** Connect to LDG03DTG-g2/0/0 **";
                    hold-time up 5000 down 0;
                    mtu 9192;
            link-mode full-duplex;
            gigether-options {
                    auto-negotiation;
            }
                optics-options {
                    alarm low-light-alarm {
                        syslog;
                    }
                    warning low-light-warning {
                        syslog;
                    }
                }
		unit 0 {
            description "** Connect to LDG03DTG-g2/0/0 **";
                family inet {
                    address 10.61.0.86/30;
                }
                family iso;
                family mpls {
                    maximum-labels 5;
                }
        }
    }
    ge-7/2/0 {
        description "** Connect to SL_LDG.TTH.W01 **";
                	flexible-vlan-tagging; 
                    encapsulation flexible-ethernet-services;
                    hold-time up 5000 down 0;
                    mtu 9022;
            link-mode full-duplex;
            gigether-options {
                    auto-negotiation;
            }
        unit 99 {
            description "** Connect to LDG.TTH.W01 ** - SVLAN:99";
            vlan-id 99;
            family inet {
                unnumbered-address lo0.0;
            }
        }
		unit 1016 {
            description "** Connect to  NODEB_VMS KV_DLT for IUP ** - SVLAN:1016";
                    vlan-id 1016;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 1110 {
            description " connect to LDG.TTH.W01 ** - SVLAN:1110 - CVLAN:501-528";
                    vlan-tags outer 1110 inner-list [ 501-528 ];
							input-vlan-map {
								swap;
								vlan-id 4094;
							}
							output-vlan-map swap;
            encapsulation vlan-vpls;
        }
		unit 1359 {
            description "SVLAN:1359";
                    vlan-id 1359;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 1553 {
            description "SVLAN:1553";
                    vlan-id 1553;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 2016 {
            description "** Connect to  NODEB_VMS KV_DLT for IUP ** - SVLAN:2016";
                    vlan-id 2016;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 2263 {
            description "SVLAN:2263";
                    vlan-id 2263;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 2359 {
            description "SVLAN:2359";
                    vlan-id 2359;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
        unit 2410 {
            description "SVLAN:2410";
            vlan-id 2410;
            family inet {
                rpf-check fail-filter RPF-ALLOW-DHCP;
                unnumbered-address lo0.2410 preferred-source-address 10.49.32.1;
            }
        }
		unit 2460 {
            description "** Connect to LDG.TVN.A21- VOD-MIMOSATV ** - SVLAN:2460";
                    vlan-id 2460;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
                family vpls {
                        filter {
                             input FF-VOD_MIMOSATV_IN;
                             output FF-VOD_MIMOSATV_OUT;
                        }
                }
        }
		unit 2553 {
            description "SVLAN:2553";
                    vlan-id 2553;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 2610 {
            description "SVLAN:2610";
                    vlan-id 2610;
            encapsulation vlan-vpls;
                family vpls {
                            core-facing;
                        filter {
                             input FF-Trust-3G-VNP;
                             output FF-Trust-3G-VNP;
                        }
                }
        }
		unit 3996 {
            description "** connect to LDG.TTH.W01 ** - SVLAN:3996";
                    vlan-id 3996;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
                family vpls {
                            core-facing;
                }
        }
    }
    ge-7/2/1 {
        description "** Connect to Switch 3 VFT - Tan Ha  **";
                	flexible-vlan-tagging; 
                    encapsulation flexible-ethernet-services;
                    hold-time up 5000 down 0;
                    mtu 9022;
            link-mode full-duplex;
            gigether-options {
                    no-auto-negotiation;
            }
        unit 98 {
            description "** Connect to LDG.THA.S21** - SVLAN:98";
            vlan-id 98;
            family inet {
                unnumbered-address lo0.0;
            }
        }
        unit 99 {
            description "Connect to LDG.THA.W03 VFT ** - SVLAN:99";
            vlan-id 99;
            family inet {
                unnumbered-address lo0.0;
            }
        }
		unit 477 {
            description "** Connect to MxU LDG.TQT.Z11 - HSI Dynamic ** - SVLAN:477";
                    vlan-id 477;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 566 {
            description "** Connect to LDG.THA.S21-HSI Dynamic ** - SVLAN:566";
                    vlan-id 566;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 691 {
        }
		unit 866 {
            description "** Connect to LDG.THA.S21  VPN **";
        }
		unit 1055 {
        }
		unit 1066 {
            description "** Connect to LDG.THA.S21  VPN ** - SVLAN:1001-1024";
                    vlan-id-list [ 1001-1024 ];
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 1110 {
            description "** Connect to LDG.THA.W03 ** - SVLAN:25,26,27,331,332-354";
                    vlan-id-list [ 25 26 27 331 332-354 ];
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 1120 {
            description "SVLAN:631-654";
                    vlan-id-list [ 631-654 ];
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
        unit 2410 {
            description "SVLAN:2410";
            vlan-id 2410;
            family inet {
                rpf-check fail-filter RPF-ALLOW-DHCP;
                unnumbered-address lo0.2410 preferred-source-address 10.49.32.1;
            }
        }
		unit 2460 {
            description "** Connect to LDG.THA.S21- VOD-MIMOSATV ** - SVLAN:2460";
                    vlan-id 2460;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
                family vpls {
                        filter {
                             input FF-VOD_MIMOSATV_IN;
                             output FF-VOD_MIMOSATV_OUT;
                        }
                }
        }
		unit 2610 {
            description "SVLAN:2610";
                    vlan-id 2610;
            encapsulation vlan-vpls;
                family vpls {
                        filter {
                             input FF-Trust-3G-VNP;
                             output FF-Trust-3G-VNP;
                        }
                }
        }
		unit 3994 {
            description "** Connect to  LDG..Z01 MXU_ZTE* - SVLAN:3994";
                    vlan-id 3994;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 3996 {
            description "** Connect to LDG.THA.W01- HSI ** - SVLAN:3996";
                    vlan-id 3996;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
                family vpls {
                            core-facing;
                }
        }
		unit 3999 {
            description "** Connect to LDG.THA.S21- DSLAM_NMS ** - SVLAN:3999";
                    vlan-id 3999;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
    }
    ge-7/3/0 {
        description " connect to LDG.HDC.W01 ";
                	flexible-vlan-tagging; 
                    encapsulation flexible-ethernet-services;
                    hold-time up 5000 down 0;
                    mtu 9022;
            link-mode full-duplex;
            gigether-options {
                    auto-negotiation;
            }
		unit 13 {
            description "SVLAN:13";
                    vlan-id 13;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
        unit 98 {
            description "** Connect to LDG.THA.W02 - 5300 ** - SVLAN:98";
            vlan-id 98;
            family inet {
                unnumbered-address lo0.0;
            }
        }
        unit 99 {
            description " connect to LDG.HDC.W01  - SVLAN:99";
            vlan-id 99;
            family inet {
                unnumbered-address lo0.0;
            }
        }
		unit 505 {
            description "** Connect to LDG.3DD.Z11-HSI Dynamic ** - SVLAN:505";
                    vlan-id 505;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 1016 {
            description "** Connect to  NODEB_VMS KV_DLT for IUP ** - SVLAN:1016";
                    vlan-id 1016;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 1035 {
            description "** Connect to  NODEB_VMS KV_DLT for IUP ** - SVLAN:1035";
                    vlan-id 1035;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 1110 {
            description " connect to LDG.HDC.W01 - SVLAN:1110 - CVLAN:401-428";
                    vlan-tags outer 1110 inner-list [ 401-428 ];
							input-vlan-map {
								swap;
								vlan-id 4094;
							}
							output-vlan-map swap;
            encapsulation vlan-vpls;
        }
		unit 1210 {
            description "** Connect to MxU LDG.3DD.Z11 - FTTH ** - SVLAN:231-244,331-354";
                    vlan-id-list [ 231-244 331-354 ];
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 1348 {
        }
		unit 1356 {
        }
		unit 1358 {
            description "SVLAN:1358";
                    vlan-id 1358;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 1363 {
            description "** Connect to  NODEB_VMS KV_LDG for IUP ** - SVLAN:1363";
                    vlan-id 1363;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 1618 {
            description "** Connect to  NODEB_VMS KV_DLT for IUP ** - SVLAN:1618";
                    vlan-id 1618;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 2016 {
            description "** Connect to  NODEB_VMS KV_DLT for IUP ** - SVLAN:2016";
                    vlan-id 2016;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 2035 {
            description "** Connect to  NODEB_VMS KV_DLT for IUP ** - SVLAN:2035";
                    vlan-id 2035;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 2348 {
        }
		unit 2358 {
            description "SVLAN:2358";
                    vlan-id 2358;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 2363 {
            description "** Connect to  NODEB_VMS KV_LDG for IUP ** - SVLAN:2363";
                    vlan-id 2363;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
        unit 2410 {
            description "SVLAN:2410";
            vlan-id 2410;
            family inet {
                rpf-check fail-filter RPF-ALLOW-DHCP;
                unnumbered-address lo0.2410 preferred-source-address 10.49.32.1;
            }
        }
		unit 2610 {
            description "SVLAN:2610";
                    vlan-id 2610;
            encapsulation vlan-vpls;
                family vpls {
                            core-facing;
                        filter {
                             input FF-Trust-3G-VNP;
                             output FF-Trust-3G-VNP;
                        }
                }
        }
		unit 2618 {
            description "** Connect to  NODEB_VMS KV_LDG for DLT ** - SVLAN:2618";
                    vlan-id 2618;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 2710 {
            description "** Connect to NODEB VNP -  for IUP ** - SVLAN:2710";
                    vlan-id 2710;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 2735 {
            description "** Connect to  NODEB_VNP - for MUP ** - SVLAN:2735";
                    vlan-id 2735;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 3805 {
			disable;
            description "SVLAN:3805";
                    vlan-id 3805;
        }
		unit 3806 {
            description "** Connect to  NODEB_VMS KV_DLT for IUP ** - SVLAN:3806";
                    vlan-id 3806;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 3994 {
            description "** Connect to  MXU_ZTE* - SVLAN:3994";
                    vlan-id 3994;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 3996 {
            description "** connect to LDG.HDC.W01 ** - SVLAN:3996";
                    vlan-id 3996;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
                family vpls {
                            core-facing;
                }
        }
    }
    ge-7/3/0 {
        description "SL2_LDG.THA.W01";
                	flexible-vlan-tagging; 
                    encapsulation flexible-ethernet-services;
                    hold-time up 5000 down 0;
                    mtu 9022;
            link-mode full-duplex;
            gigether-options {
                    no-auto-negotiation;
            }
		unit 13 {
            description "SVLAN:13";
                    vlan-id 13;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
        unit 98 {
            description "** Connect to LDG.THA.W01 - 5300 ** - SVLAN:98";
            vlan-id 98;
            family inet {
                unnumbered-address lo0.0;
            }
        }
        unit 99 {
            description "** Connect to LDG.THA.W01 - 5300 ** - SVLAN:99";
            vlan-id 99;
            family inet {
                unnumbered-address lo0.0;
            }
        }
		unit 1016 {
            description "** Connect to  NODEB_VMS KV_DLT for IUP ** - SVLAN:1016";
                    vlan-id 1016;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 1110 {
            description "** Connect to LDG.THA.W01- FTTH ** - SVLAN:1110 - CVLAN:101,102-124";
                    vlan-tags outer 1110 inner-list [ 101 102-124 ];
							input-vlan-map {
								swap;
								vlan-id 4094;
							}
							output-vlan-map swap;
            encapsulation vlan-vpls;
        }
		unit 1120 {
        }
		unit 1160 {
            description "** Connect to LDG.THA.W01- VPN ** - SVLAN:102-123";
                    vlan-id-list [ 102-123 ];
        }
		unit 1210 {
        }
		unit 1356 {
            description "SVLAN:1356";
                    vlan-id 1356;
        }
		unit 1402 {
            description "** Connect to LDG.THA.W01 - Lien Trung, Tan Ha, Lam Ha** - SVLAN:1402";
                    vlan-id 1402;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 2016 {
            description "** Connect to  NODEB_VMS KV_DLT for IUP ** - SVLAN:2016";
                    vlan-id 2016;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 2356 {
            description "SVLAN:2356";
                    vlan-id 2356;
        }
		unit 2399 {
            description "** Connect to DHSXKD VNPTLDG ** - SVLAN:74";
                    vlan-id 74;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
        unit 2410 {
            description "SVLAN:2410";
            vlan-id 2410;
            family inet {
                rpf-check fail-filter RPF-ALLOW-DHCP;
                unnumbered-address lo0.2410 preferred-source-address 10.49.32.1;
            }
        }
		unit 2460 {
            description "** Connect to LDG.THA.W01- VOD-MIMOSATV ** - SVLAN:2460";
                    vlan-id 2460;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
                family vpls {
                        filter {
                             input FF-VOD_MIMOSATV_IN;
                             output FF-VOD_MIMOSATV_OUT;
                        }
                }
        }
		unit 2610 {
            description "SVLAN:2610";
                    vlan-id 2610;
            encapsulation vlan-vpls;
                family vpls {
                            core-facing;
                }
        }
		unit 2710 {
            description "** Connect to NODEB VNP -  for IUP ** - SVLAN:2710";
                    vlan-id 2710;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 2735 {
            description "** Connect to  NODEB_VNP - for MUP ** - SVLAN:2735";
                    vlan-id 2735;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 3620 {
            description "*VPN TAN HA* - SVLAN:124";
                    vlan-id 124;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 3996 {
            description "** Connect to LDG.THA.W01- HSI ** - SVLAN:3996";
                    vlan-id 3996;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
                family vpls {
                            core-facing;
                }
        }
    }
    ge-7/2/1 {
        description "DSL_LDG.THA.A11";
                	flexible-vlan-tagging; 
                    encapsulation flexible-ethernet-services;
                    hold-time up 5000 down 0;
                    mtu 9022;
            link-mode full-duplex;
            gigether-options {
                    no-auto-negotiation;
            }
        unit 98 {
            description "** Connect to LDG.THA.A11** - SVLAN:98";
            vlan-id 98;
            family inet {
                unnumbered-address lo0.0;
            }
        }
        unit 99 {
            description "** Connect to LDG.THA.A11 ** - SVLAN:99";
            vlan-id 99;
            family inet {
                unnumbered-address lo0.0;
            }
        }
		unit 191 {
            description "** Connect to LDG.THA.A11-HSI Dynamic ** - SVLAN:191";
                    vlan-id 191;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 691 {
            description "** Connect to LDG.THA.A11  VPN ** - SVLAN:691";
                    vlan-id 691;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
        unit 2410 {
            description "SVLAN:2410";
            vlan-id 2410;
            family inet {
                rpf-check fail-filter RPF-ALLOW-DHCP;
                unnumbered-address lo0.2410 preferred-source-address 10.49.32.1;
            }
        }
		unit 2460 {
            description "** Connect to LDG.THA.A11- VOD-MIMOSATV ** - SVLAN:2460";
                    vlan-id 2460;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
                family vpls {
                        filter {
                             input FF-VOD_MIMOSATV_IN;
                             output FF-VOD_MIMOSATV_OUT;
                        }
                }
        }
		unit 2700 {
            description "SVLAN:3139";
                    vlan-id 3139;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 3999 {
            description "** Connect to LDG.THA.A11- DSLAM_NMS ** - SVLAN:3999";
                    vlan-id 3999;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
    }
    ge-7/2/3 {
        description "DSL_LDG.PUT.A11";
                	flexible-vlan-tagging; 
                    encapsulation flexible-ethernet-services;
                    hold-time up 5000 down 0;
                    mtu 9022;
            link-mode full-duplex;
            gigether-options {
                    no-auto-negotiation;
            }
        unit 98 {
            description "** Connect to LDG.PUT.A11** - SVLAN:98";
            vlan-id 98;
            family inet {
                unnumbered-address lo0.0;
            }
        }
        unit 99 {
            description "** Connect to LDG.PUT.A11** - SVLAN:99";
            vlan-id 99;
            family inet {
                unnumbered-address lo0.0;
            }
        }
		unit 192 {
            description "** Connect to LDG.PUT.A11-HSI Dynamic ** - SVLAN:192";
                    vlan-id 192;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 692 {
            description "** Connect to LDG.PUT.A11  VPN ** - SVLAN:692";
                    vlan-id 692;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 1016 {
            description "** Connect to  NODEB_VMS KV_DLT for IUP ** - SVLAN:1016";
                    vlan-id 1016;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 1110 {
            description " connect to LDG.PUT.W01 5300** - SVLAN:1110 - CVLAN:601-628";
                    vlan-tags outer 1110 inner-list [ 601-628 ];
							input-vlan-map {
								swap;
								vlan-id 4094;
							}
							output-vlan-map swap;
            encapsulation vlan-vpls;
        }
		unit 1120 {
            description "** LDG.PUT.TVT.L2S.T01.001_10.61.5.88 - FTTH ** - SVLAN:901-924";
                    vlan-id-list [ 901-924 ];
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 1352 {
            description "** Connect to  NODEB_LDLH05 KV_LHA for IUP ** - SVLAN:1352";
                    vlan-id 1352;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 1556 {
            description "** Connect to  NODEB_LDLH30 KV_LHA for IUP ** - SVLAN:1556";
                    vlan-id 1556;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 2016 {
            description "** Connect to  NODEB_VMS KV_DLT for IUP ** - SVLAN:2016";
                    vlan-id 2016;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 2352 {
            description "** Connect to  NODEB_LDLH05 KV_LHA for MUP ** - SVLAN:2352";
                    vlan-id 2352;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
        unit 2410 {
            description "SVLAN:2410";
            vlan-id 2410;
            family inet {
                rpf-check fail-filter RPF-ALLOW-DHCP;
                unnumbered-address lo0.2410 preferred-source-address 10.49.32.1;
            }
        }
		unit 2460 {
            description "** Connect to LDG.PUT.A11- VOD-MIMOSATV ** - SVLAN:2460";
                    vlan-id 2460;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
                family vpls {
                        filter {
                             input FF-VOD_MIMOSATV_IN;
                             output FF-VOD_MIMOSATV_OUT;
                        }
                }
        }
		unit 2556 {
            description "** Connect to  NODEB_LDLH30 KV_LHA for MUP ** - SVLAN:2556";
                    vlan-id 2556;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 2610 {
            description "SVLAN:2610";
                    vlan-id 2610;
            encapsulation vlan-vpls;
                family vpls {
                            core-facing;
                        filter {
                             input FF-Trust-3G-VNP;
                             output FF-Trust-3G-VNP;
                        }
                }
        }
		unit 2700 {
            description "SVLAN:3145";
                    vlan-id 3145;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 3996 {
            description "SVLAN:3996";
                    vlan-id 3996;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
                family vpls {
                            core-facing;
                }
        }
		unit 3999 {
            description "** Connect to LDG.PUT.A11- DSLAM_NMS ** - SVLAN:3999";
                    vlan-id 3999;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
    }
    ge-7/2/4 {
        description "** Eth-Trunk1 LDG.THA.AT1 port 1 **"; 
                /* check gia tri flex_serice 2 */
                    hold-time up 5000 down 0;
            link-mode full-duplex;
            gigether-options {
                    no-auto-negotiation;
                    802.3ad ae1;
            }
    }
    ge-7/2/5 {
        description "SWL2_LDG.DPG.W01";
                	flexible-vlan-tagging; 
                    encapsulation flexible-ethernet-services;
                    hold-time up 5000 down 0;
                    mtu 9022;
            link-mode full-duplex;
            gigether-options {
                    auto-negotiation;
            }
        unit 98 {
            description "** Connect to LDG.TTH.A11** - SVLAN:98";
            vlan-id 98;
            family inet {
                unnumbered-address lo0.0;
            }
        }
        unit 99 {
            description "** Connect to LDG.DPG.W01** - SVLAN:99";
            vlan-id 99;
            family inet {
                unnumbered-address lo0.0;
            }
        }
		unit 193 {
            description "** Connect to LDG.DPG.A11-HSI Dynamic ** - SVLAN:193";
                    vlan-id 193;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 693 {
            description "** Connect to LDG.DPG.A11  VPN ** - SVLAN:693";
                    vlan-id 693;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 1016 {
            description "** Connect to  NODEB_VMS KV_DLT for IUP ** - SVLAN:1016";
                    vlan-id 1016;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 1110 {
            description " FTTH  - SVLAN:701-724";
                    vlan-id-list [ 701-724 ];
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 1348 {
            description " Connect to  Node B VMS_LDLH01  - SVLAN:1348";
                    vlan-id 1348;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 2016 {
            description "** Connect to  NODEB_VMS KV_DLT for IUP ** - SVLAN:2016";
                    vlan-id 2016;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 2348 {
            description " Connect to  Node B VMS_LDLH01  - SVLAN:2348";
                    vlan-id 2348;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
        unit 2410 {
            description "SVLAN:2410";
            vlan-id 2410;
            family inet {
                rpf-check fail-filter RPF-ALLOW-DHCP;
                unnumbered-address lo0.2410 preferred-source-address 10.49.32.1;
            }
        }
		unit 2418 {
            description "SVLAN:2418";
                    vlan-id 2418;
            encapsulation vlan-vpls;
        }
		unit 2460 {
            description "** Connect to LDG.TTH.A11- VOD-MIMOSATV ** - SVLAN:2460";
                    vlan-id 2460;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
                family vpls {
                        filter {
                             input FF-VOD_MIMOSATV_IN;
                             output FF-VOD_MIMOSATV_OUT;
                        }
                }
        }
		unit 2610 {
            description "SVLAN:2610";
                    vlan-id 2610;
            encapsulation vlan-vpls;
                family vpls {
                            core-facing;
                        filter {
                             input FF-Trust-3G-VNP;
                             output FF-Trust-3G-VNP;
                        }
                }
        }
		unit 2700 {
            description "SVLAN:3137";
                    vlan-id 3137;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 3996 {
            description "** Connect to LDG.DPG.W01 - VFT - Du an 2015 ** - SVLAN:3996";
                    vlan-id 3996;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
                family vpls {
                            core-facing;
                }
        }
		unit 3999 {
            description "** Connect to LDG.DPG.A11- DSLAM_NMS ** - SVLAN:3999";
                    vlan-id 3999;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
    }
    ge-7/2/6 {
        description "DSL_LDG.HDC.A11";
                	flexible-vlan-tagging; 
                    encapsulation flexible-ethernet-services;
                    hold-time up 5000 down 0;
                    mtu 9022;
            link-mode full-duplex;
            gigether-options {
                    no-auto-negotiation;
            }
        unit 98 {
            description "** Connect to LDG.HDC.A11** - SVLAN:98";
            vlan-id 98;
            family inet {
                unnumbered-address lo0.0;
            }
        }
        unit 99 {
            description "** Connect to LDG.HDC.A11** - SVLAN:99";
            vlan-id 99;
            family inet {
                unnumbered-address lo0.0;
            }
        }
		unit 195 {
            description "** Connect to LDG.TTH.A11-HSI Dynamic ** - SVLAN:195";
                    vlan-id 195;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 364 {
            description "** Connect to LDG.HDC.A11-HSI Dynamic ** - SVLAN:364";
                    vlan-id 364;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 695 {
            description "** Connect to LDG.TTH.A11  VPN ** - SVLAN:695";
                    vlan-id 695;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 864 {
            description "** Connect to LDG.HDC.A11  VPN ** - SVLAN:864";
                    vlan-id 864;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 1110 {
            description "** Connect to LDG.TTA.A11 - FTTH vlan 19 ** - SVLAN:1110 - CVLAN:19-20";
                    vlan-tags outer 1110 inner-list [ 19-20 ];
							input-vlan-map {
								swap;
								vlan-id 4094;
							}
							output-vlan-map swap;
            encapsulation vlan-vpls;
        }
        unit 2410 {
            description "SVLAN:2410";
            vlan-id 2410;
            family inet {
                rpf-check fail-filter RPF-ALLOW-DHCP;
                unnumbered-address lo0.2410 preferred-source-address 10.49.32.1;
            }
        }
		unit 2460 {
            description "** Connect to LDG.HDC.A11- VOD-MIMOSATV ** - SVLAN:2460";
                    vlan-id 2460;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 2700 {
            description "SVLAN:3140,3142";
                    vlan-id-list [ 3140 3142 ];
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 3999 {
            description "** Connect to LDG.HDC.A11- DSLAM_NMS ** - SVLAN:3999";
                    vlan-id 3999;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
    }
    ge-7/2/7 {
        description "DSL_LDG.TQT.A11";
                	flexible-vlan-tagging; 
                    encapsulation flexible-ethernet-services;
                    hold-time up 5000 down 0;
                    mtu 9022;
            link-mode full-duplex;
            gigether-options {
                    no-auto-negotiation;
            }
        unit 99 {
            description "** Connect to LDG-TQT-A11** - SVLAN:99";
            vlan-id 99;
            family inet {
                unnumbered-address lo0.0;
            }
        }
		unit 1016 {
            description "** Connect to  NODEB_VMS KV_DLT for IUP ** - SVLAN:1016";
                    vlan-id 1016;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 1120 {
            description "connect to LDG.THA.W02 - ftth - SVLAN:130-151,153,154,801-824";
                    vlan-id-list [ 130-151 153 154 801-824 ];
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 1356 {
            description "SVLAN:1356";
                    vlan-id 1356;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 1859 {
            description "DBSCLBANK-NT-LDG (MHB), ATM Tan Ha Trung tam mua sam Tan Ha - FE1M; - SVLAN:1859";
                    vlan-id 1859;
                family inet {
                    address 172.32.178.41/29;
                }
        }
		unit 2016 {
            description "** Connect to  NODEB_VMS KV_DLT for IUP ** - SVLAN:2016";
                    vlan-id 2016;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 2356 {
            description "SVLAN:2356";
                    vlan-id 2356;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
        unit 2410 {
            description "SVLAN:2410";
            vlan-id 2410;
            family inet {
                rpf-check fail-filter RPF-ALLOW-DHCP;
                unnumbered-address lo0.2410 preferred-source-address 10.49.32.1;
            }
        }
		unit 2460 {
            description "** Connect to LDG.TQT.A11- VOD-MIMOSATV ** - SVLAN:2460";
                    vlan-id 2460;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
                family vpls {
                        filter {
                             input FF-VOD_MIMOSATV_IN;
                             output FF-VOD_MIMOSATV_OUT;
                        }
                }
        }
		unit 2610 {
            description "SVLAN:2610";
                    vlan-id 2610;
            encapsulation vlan-vpls;
                family vpls {
                            core-facing;
                        filter {
                             input FF-Trust-3G-VNP;
                             output FF-Trust-3G-VNP;
                        }
                }
        }
		unit 2710 {
            description "SVLAN:2710";
                    vlan-id 2710;
            encapsulation vlan-vpls;
                family vpls {
                            core-facing;
                        filter {
                             input FF-Trust-3G-VNP;
                             output FF-Trust-3G-VNP;
                        }
                }
        }
		unit 2760 {
            description "SVLAN:2760";
                    vlan-id 2760;
            encapsulation vlan-vpls;
                family vpls {
                            core-facing;
                        filter {
                             input FF-Trust-3G-VNP;
                             output FF-Trust-3G-VNP;
                        }
                }
        }
		unit 2805 {
            description "SVLAN:2805";
                    vlan-id 2805;
            encapsulation vlan-vpls;
        }
		unit 2810 {
            description "SVLAN:2810";
                    vlan-id 2810;
            encapsulation vlan-vpls;
                family vpls {
                            core-facing;
                        filter {
                             input FF-Trust-3G-VNP;
                             output FF-Trust-3G-VNP;
                        }
                }
        }
		unit 2855 {
            description "SVLAN:2855";
                    vlan-id 2855;
            encapsulation vlan-vpls;
        }
		unit 2860 {
            description "SVLAN:2860";
                    vlan-id 2860;
            encapsulation vlan-vpls;
                family vpls {
                            core-facing;
                        filter {
                             input FF-Trust-3G-VNP;
                             output FF-Trust-3G-VNP;
                        }
                }
        }
		unit 3620 {
            description "SVLAN:152";
                    vlan-id 152;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 3996 {
            description "SVLAN:3996";
                    vlan-id 3996;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
                family vpls {
                            core-facing;
                }
        }
		unit 3999 {
            description "** Connect to LDG.TQT.A11- DSLAM_NMS ** - SVLAN:3999";
                    vlan-id 3999;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
    }
    ge-7/2/8 {
        description "DSL_LDG.LHZ.A11";
                	flexible-vlan-tagging; 
                    encapsulation flexible-ethernet-services;
                    hold-time up 5000 down 0;
                    mtu 9022;
            link-mode full-duplex;
            gigether-options {
                    no-auto-negotiation;
            }
		unit 13 {
            description "** Connect to LDG.LHA.A11 - NMS OSN VLAN ** - SVLAN:13";
                    vlan-id 13;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
        unit 99 {
            description "** Connect to LDG.LHZ.A11 ** - SVLAN:99";
            vlan-id 99;
            family inet {
                unnumbered-address lo0.0;
            }
        }
		unit 345 {
            description "** Connect to LDG.LHZ.A11-HSI Dynamic ** - SVLAN:345";
                    vlan-id 345;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 845 {
            description "**to LDG.LHZ.A11 - VPN** - SVLAN:845";
                    vlan-id 845;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 1016 {
            description "** Connect to  NODEB_VMS KV_DLT for IUP ** - SVLAN:1016";
                    vlan-id 1016;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 1370 {
            description "** Node B VMS 13LD017 ** - SVLAN:1370";
                    vlan-id 1370;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 2016 {
            description "** Connect to  NODEB_VMS KV_DLT for IUP ** - SVLAN:2016";
                    vlan-id 2016;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 2370 {
            description "** Node B VMS 13LD017 ** - SVLAN:2370";
                    vlan-id 2370;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
        unit 2410 {
            description "SVLAN:2410";
            vlan-id 2410;
            family inet {
                rpf-check fail-filter RPF-ALLOW-DHCP;
                unnumbered-address lo0.2410 preferred-source-address 10.49.32.1;
            }
        }
		unit 2700 {
            description "SVLAN:3138";
                    vlan-id 3138;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 3808 {
            description "SVLAN:3808";
                    vlan-id 3808;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
		unit 3999 {
            description "** Connect to LDG.THZ.A11- DSLAM_NMS ** - SVLAN:3999";
                    vlan-id 3999;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
    }
    ge-7/2/9 {
                	flexible-vlan-tagging; 
                    encapsulation flexible-ethernet-services;
                    hold-time up 5000 down 0;
                    mtu 9022;
            link-mode full-duplex;
            gigether-options {
                    auto-negotiation;
            }
        unit 99 {
            description "SVLAN:99";
            vlan-id 99;
            family inet {
                unnumbered-address lo0.0;
            }
        }
		unit 427 {
            description "SVLAN:427";
                    vlan-id 427;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-ccc;
        }
		unit 1110 {
            description "SVLAN:301-316";
                    vlan-id-list [ 301-316 ];
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
        unit 2410 {
            description "SVLAN:2410";
            vlan-id 2410;
            family inet {
                rpf-check fail-filter RPF-ALLOW-DHCP;
                unnumbered-address lo0.2410 preferred-source-address 10.49.32.1;
            }
        }
		unit 3994 {
            description "** Connect to  MXU_ZTE* - SVLAN:3994";
                    vlan-id 3994;
							input-vlan-map {
								push;
								vlan-id 4094;
							}
							output-vlan-map pop;
            encapsulation vlan-vpls;
        }
    }
    lo0 {
        apply-groups PROTECT-RE-GROUP;
		unit 0 {
            family iso {
                address 49.0061.1230.2904.7020.00;
            }
                family inet {
                    address 123.29.47.20/32;
                }
        }
		unit 2410 {
                family inet {
                    address 10.49.32.1/32;
                }
        }
    }
    irb {
		unit 2610 {
            description "Node B IUB-3G-L3-VNP";
                family inet {
                    address 10.209.42.161/27;
                }
        }
		unit 2710 {
                family inet {
                    address 10.215.75.241/28;
                }
        }
		unit 2810 {
                family inet {
                    address 10.208.79.161/27;
                }
        }
    }
}
snmp {
    community dmsmaneread {
        authorization read-only;
        client-list-name SNMP-CLIENT-PREFIXES;
    }
    /* Consider */
    trap-options {
        source-address 123.29.47.20;
    }
    trap-group MANE-TRAP-GROUP {
        version v2;
        categories {
            authentication;
            chassis;
            link;
            routing;
            startup;
            vrrp-events;
            configuration;
        }
        /* Change in production network */
        targets {
	        10.1.5.168;
	        10.61.1.2;
	        10.61.1.22;
	        123.29.0.162;
	        123.29.0.163;
	        172.20.96.168;
        }
    }
    filter-interfaces {
        interfaces {
			"!^[gxae][et].*";
			"(ge|xe|ae|et).*\..*";
        }
        all-internal-interfaces;
    }	
}
routing-options {
    ppm {
        redistribution-timer 120;
    }
    nonstop-routing;
    router-id 123.29.47.20;
    autonomous-system 65061;
    forwarding-table {
        export LOAD-BALANCE;
    }
    multicast {
        ssm-map SSM-MAP-IPV4 {
            policy SSM-POLICY;
            source [ 123.29.128.4 123.29.128.122 ];
        }
    }
}
protocols {
    igmp {
        interface ae1.99 {
            ssm-map SSM-MAP-IPV4;
            promiscuous-mode;
        }
        interface ae2.99 {
            ssm-map SSM-MAP-IPV4;
            promiscuous-mode;
        }
        interface ae4.99 {
            ssm-map SSM-MAP-IPV4;
            promiscuous-mode;
        }
        interface ge-0/2/1.99 {
            ssm-map SSM-MAP-IPV4;
            promiscuous-mode;
        }
        interface ge-7/2/0.99 {
            ssm-map SSM-MAP-IPV4;
            promiscuous-mode;
        }
        interface ge-7/2/1.98 {
            ssm-map SSM-MAP-IPV4;
            promiscuous-mode;
        }
        interface ge-7/2/1.99 {
            ssm-map SSM-MAP-IPV4;
            promiscuous-mode;
        }
        interface ge-7/3/0.98 {
            ssm-map SSM-MAP-IPV4;
            promiscuous-mode;
        }
        interface ge-7/3/0.99 {
            ssm-map SSM-MAP-IPV4;
            promiscuous-mode;
        }
        interface ge-7/3/0.98 {
            ssm-map SSM-MAP-IPV4;
            promiscuous-mode;
        }
        interface ge-7/3/0.99 {
            ssm-map SSM-MAP-IPV4;
            promiscuous-mode;
        }
        interface ge-7/2/1.98 {
            ssm-map SSM-MAP-IPV4;
            promiscuous-mode;
        }
        interface ge-7/2/1.99 {
            ssm-map SSM-MAP-IPV4;
            promiscuous-mode;
        }
        interface ge-7/2/3.98 {
            ssm-map SSM-MAP-IPV4;
            promiscuous-mode;
        }
        interface ge-7/2/3.99 {
            ssm-map SSM-MAP-IPV4;
            promiscuous-mode;
        }
        interface ge-7/2/5.98 {
            ssm-map SSM-MAP-IPV4;
            promiscuous-mode;
        }
        interface ge-7/2/5.99 {
            ssm-map SSM-MAP-IPV4;
            promiscuous-mode;
        }
        interface ge-7/2/6.98 {
            ssm-map SSM-MAP-IPV4;
            promiscuous-mode;
        }
        interface ge-7/2/6.99 {
            ssm-map SSM-MAP-IPV4;
            promiscuous-mode;
        }
        interface ge-7/2/7.99 {
            ssm-map SSM-MAP-IPV4;
            promiscuous-mode;
        }
        interface ge-7/2/8.99 {
            ssm-map SSM-MAP-IPV4;
            promiscuous-mode;
        }
        interface ge-7/2/9.99 {
            ssm-map SSM-MAP-IPV4;
            promiscuous-mode;
        }
    }
    rsvp {		
        interface ge-0/2/7.0 {
            aggregate;
            reliable;
        }		
        interface xe-7/0/0.0 {
            aggregate;
            reliable;
        }
    }
    mpls {
        statistics {
            file MPLS-LSP-STATS size 10m files 10;
            interval 300;
        }
        log-updown {
            syslog;
            trap;
            trap-path-down;
            trap-path-up;
        }
        smart-optimize-timer 60;
        no-propagate-ttl;
        ipv6-tunneling;
        optimize-timer 300;
        label-switched-path lsp-LDG03THA-to-LDG00DLT-1 {
   			to 123.29.47.1 ;
   			description Tunnel0/0/1;
    		adaptive;
    		primary p-LDG03THA-to-LDG00DLT-1;
    		secondary s-LDG03THA-to-LDG00DLT-1 {
        		standby;
   			}
		}
		path s-LDG03THA-to-LDG00DLT-1;
		path p-LDG03THA-to-LDG00DLT-1 {
			10.61.0.90 strict;
			10.61.0.94 strict;
			10.61.0.5 strict;
			123.29.47.1 loose;
		}
		path s-LDG03THA-to-LDG00DLT-1;
        label-switched-path lsp-LDG03THA-to-LDG00DTG-2 {
   			to 123.29.47.2 ;
   			description Tunnel0/0/2;
    		adaptive;
    		primary p-LDG03THA-to-LDG00DTG-2;
    		secondary s-LDG03THA-to-LDG00DTG-2 {
        		standby;
   			}
		}
		path s-LDG03THA-to-LDG00DTG-2;
		path p-LDG03THA-to-LDG00DTG-2 {
			10.61.0.85 strict;
			10.61.0.82 strict;
			123.29.47.2 loose;
		}
		path s-LDG03THA-to-LDG00DTG-2;
        interface ge-0/2/7.0;
        interface xe-7/0/0.0;
    }
    bgp {
        precision-timers;
        path-selection external-router-id;
        advertise-from-main-vpn-tables;
        mtu-discovery;
        log-updown;
        group IBGP-TO-RR{
            type internal;
            local-address 123.29.47.20;
            family inet-vpn {
                unicast;
            }
            family inet6-vpn {
                unicast;
            }
            authentication-key "$9$9e4hA01RESM8xbsQFn/tpO1RSrvM87"; ## SECRET-DATA
            neighbor 123.29.47.18;
            neighbor 123.29.47.19;
        }
    }
    isis {
        reference-bandwidth 1000g;
        lsp-lifetime 65535;
        overload timeout 420;
        level 2 disable;
        level 1 {
            wide-metrics-only;
            prefix-export-limit 100;
        }		
        interface ge-0/2/7.0 {
            ldp-synchronization;
            point-to-point;
            level 1 {
    			hello-authentication-key "$9$JNZi.tpBEhr"; ## SECRET-DATA
    			hello-authentication-type md5;
   			}
        }		
        interface xe-7/0/0.0 {
            ldp-synchronization;
            point-to-point;
            level 1 {
    			hello-authentication-key "$9$JNZi.tpBEhr"; ## SECRET-DATA
    			hello-authentication-type md5;
   			}
        }
        interface lo0.0;
    }
    ldp {
        track-igp-metric;
        deaggregate;		
        interface ge-0/2/7.0;		
        interface xe-7/0/0.0;
        interface lo0.0;
        session 123.29.47.1 {
            authentication-key "$9$1T0RSlKv8dbYJGAp0BEhxNdV2aPfz6Cu"; ## SECRET-DATA
        }
        session 123.29.47.2 {
            authentication-key "$9$1T0RSlKv8dbYJGAp0BEhxNdV2aPfz6Cu"; ## SECRET-DATA
        }
        session-protection;
    }
    pim {		
        interface ge-0/2/7.0 {
            mode sparse;
            version 2;
        }		
        interface xe-7/0/0.0 {
            mode sparse;
            version 2;
        }
        join-load-balance {
            automatic;
        }
        standby-path-creation-delay 5;
        idle-standby-path-switchover-delay 10;
    }
    l2circuit {
        neighbor 123.29.47.1 {		
            interface ge-7/2/0.2263 {
                virtual-circuit-id 1101202263;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-7/2/1.477 {
                virtual-circuit-id 1101510350;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-7/2/1.566 {
                virtual-circuit-id 1102010040;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102010041;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-7/2/1.191 {
                virtual-circuit-id 1102010050;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102010051;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-7/2/3.192 {
                virtual-circuit-id 1102010060;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102010061;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-7/2/5.193 {
                virtual-circuit-id 1102010070;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102010071;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-7/2/6.195 {
                virtual-circuit-id 1102010090;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102010091;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-7/2/6.364 {
                virtual-circuit-id 1102010100;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102010101;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-7/2/8.345 {
                virtual-circuit-id 1102010120;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102010121;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-7/2/9.427 {
                virtual-circuit-id 1102010130;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102010131;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-7/3/0.505 {
                virtual-circuit-id 1102010150;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-7/2/5.1348 {
                virtual-circuit-id 1102011348;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102001348;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-7/2/3.1352 {
                virtual-circuit-id 1102011352;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102001352;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-7/2/7.1356 {
                virtual-circuit-id 1102011356;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102001356;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-7/3/0.1358 {
                virtual-circuit-id 1102011358;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-7/2/0.1359 {
                virtual-circuit-id 1102011359;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102001359;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-7/3/0.1363 {
                virtual-circuit-id 1102011363;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102001363;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-7/2/8.1370 {
                virtual-circuit-id 1102011370;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102001370;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-7/2/0.1553 {
                virtual-circuit-id 1102011553;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-7/2/3.1556 {
                virtual-circuit-id 1102011556;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-7/2/5.2348 {
                virtual-circuit-id 1102012348;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102002348;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-7/2/3.2352 {
                virtual-circuit-id 1102012352;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102002352;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-7/2/7.2356 {
                virtual-circuit-id 1102012356;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102002356;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-7/3/0.2358 {
                virtual-circuit-id 1102012358;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-7/2/0.2359 {
                virtual-circuit-id 1102012359;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102002359;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-7/3/0.2363 {
                virtual-circuit-id 1102012363;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102002363;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-7/2/8.2370 {
                virtual-circuit-id 1102012370;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.2 {
                    	virtual-circuit-id 1102002370;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-7/2/0.2553 {
                virtual-circuit-id 1102012553;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-7/2/3.2556 {
                virtual-circuit-id 1102012556;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-7/2/6.864 {
                virtual-circuit-id 1402010030;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-7/2/1.1066 {
                virtual-circuit-id 1402010040;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-7/2/1.691 {
                virtual-circuit-id 1402010050;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-7/2/3.692 {
                virtual-circuit-id 1402010060;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-7/2/5.693 {
                virtual-circuit-id 1402010070;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-7/2/8.845 {
                virtual-circuit-id 1402010110;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;
            }			
        }
        neighbor 123.29.47.1 {		
            interface ge-7/2/6.695 {
                virtual-circuit-id 1402010160;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;
            }			
        }
        neighbor 123.29.47.2 {		
            interface ae2.1092 {
                virtual-circuit-id 1102010110;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.1 {
                    	virtual-circuit-id 1102010111;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.2 {		
            interface ae1.1048 {
                virtual-circuit-id 1102010990;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.1 {
                    	virtual-circuit-id 1102010991;
                        standby;
                    }
            }			
        }
        neighbor 123.29.47.2 {		
            interface ae4.2110 {
                virtual-circuit-id 1102012110;
                encapsulation-type ethernet-vlan;
                no-control-word;
				pseudowire-status-tlv;   
                    switchover-delay 0;
                    revert-time 10;  
                    backup-neighbor 123.29.47.1 {
                    	virtual-circuit-id 1102012111;
                        standby;
                    }
            }			
        }
    }
    l2-learning {
        global-mac-move {
            threshold-time 1;
            threshold-count 50;
        }
        vpls-mac-move {
            cooloff-time 30;
            statistical-approach-wait-time 30;
            interface-recovery-time 3600;
            /* Virtual MAC for VRRP */
            virtual-mac 00:00:5e:00:01:00/40;
            /* Virtual MAC for HSRP */
            virtual-mac 00:00:0c:07:ac:00/40;
            /* Virtual MAC for GSLB */
            virtual-mac 00:07:b4:00:01:00/40;
            /* Virtual MAC for vMotion */
            virtual-mac 02:bf:00:00:00:00/16;
        }
        global-mac-table-aging-time 14400;
    }
}
policy-options {
    prefix-list SNMP-CLIENT-PREFIXES {
    	/* Ung voi moi tinh, request thong tin nay */
    }
    prefix-list INTERFACE-PREFIXES {
        apply-path "interfaces <*> unit <*> family inet address <*>";
    }
    prefix-list BGP-NEIGHBORS {
        apply-path "protocols bgp group <*> neighbor <*>";
    }
    prefix-list BGP-NEIGHBORS-RI {
        apply-path "routing-instances <*> protocols bgp group <*> neighbor <*>";
    }
    /* Consider - Based on HCM-BRAS configuration */
    prefix-list MGMT-PREFIXES {
        123.29.47.0/24;
        123.29.47.0/24;
        10.61.0.0/16;
        10.61.0.0/16;
        123.29.0.0/24;
        123.29.0.0/20;
        123.29.128.0/24;
        0.0.0.0/0;
        123.29.47.0/27;
        10.61.0.0/24;
        10.61.1.0/27;
        222.253.207.248/29;
        123.29.0.162/31;
    }
	prefix-list L2ACCESS-PREFIXES {
		/* Ung voi moi tinh, request thong tin nay */
	}	
    prefix-list NTP-SERVER {
        apply-path "system ntp server <*>";
    }
    prefix-list NTP-SOURCE-ADDRESS {
        apply-path "system ntp source-address <*>";
    }
    prefix-list INTERNAL-LO0-PREFIXES {
        /* Ung voi moi tinh, request thong tin nay */
    }
    prefix-list TACACS-SERVERS {
        apply-path "system tacplus-server <*>";
    }
    prefix-list INTERNAL-NNI-PREFIXES {
        /* Ung voi moi tinh, request thong tin nay */
    }
    policy-statement LOAD-BALANCE {
        then {
            load-balance per-packet;
        }
    }
    policy-statement SSM-POLICY {
        term 1 {
            from {
                route-filter 232.84.1.0/24 orlonger;
                route-filter 232.84.2.0/24 orlonger;
            }
            then accept;
        }
        term discard {
            then reject;
        }
    }
    policy-statement PS-EXP-ENODEB-OAM {
                term ENODEB-OAM_0_0 {
                    from {
                        protocol [ direct static ];
                    }
                    then {
                        community add RT-65061:20010008;
                        accept;
                    }
                }
    }
    policy-statement PS-IMP-ENODEB-OAM {
        term final {
            from {
                community [  RT-65061:20010008  ];
            }
            then {
                accept;
            }
        }   
    }
    policy-statement PS-EXP-ENODEB-SERVICE {
                term ENODEB-SERVICE_0_0 {
                    from {
                        protocol [ direct static ];
                    }
                    then {
                        community add RT-65061:20010007;
                        accept;
                    }
                }
    }
    policy-statement PS-IMP-ENODEB-SERVICE {
        term final {
            from {
                community [  RT-65061:20010007  ];
            }
            then {
                accept;
            }
        }   
    }
    policy-statement PS-EXP-IUB-3G-L3-VNP {
                term IUB-3G-L3-VNP_0_0 {
                    from {
                        protocol [ direct static ];
                    }
                    then {
                        community add RT-65061:20200001;
                        accept;
                    }
                }
    }
    policy-statement PS-IMP-IUB-3G-L3-VNP {
        term final {
            from {
                community [  RT-65061:20010001  RT-65061:20020001  ];
            }
            then {
                accept;
            }
        }   
    }
    policy-statement PS-EXP-TSLCD-KHOICHINHQUYEN-2990 {
                term TSLCD-KHOICHINHQUYEN-2990_0_0 {
                    from {
                        protocol [ direct static ];
                    }
                    then {
                        community add RT-65061:22420230;
                        accept;
                    }
                }
    }
    policy-statement PS-IMP-TSLCD-KHOICHINHQUYEN-2990 {
        term final {
            from {
                community [  RT-65061:22420231  ];
            }
            then {
                accept;
            }
        }   
    }
    policy-statement PS-EXP-VPRN-306100004 {
                term VPRN-306100004_0_0 {
                    from {
                        protocol [ direct static ];
                    }
                    then {
                        community add RT-65061:10170004;
                        accept;
                    }
                }
    }
    policy-statement PS-IMP-VPRN-306100004 {
        term final {
            from {
                community [  RT-65061:10170004  ];
            }
            then {
                accept;
            }
        }   
    }
    policy-statement PS-EXP-VPRN-311005514 {
                term VPRN-311005514_0_0 {
                    from {
                        protocol [ static ];
                    }
                    then {
                        community add RT-65061:11005514;
                        accept;
                    }
                }
    }
    policy-statement PS-IMP-VPRN-311005514 {
        term final {
            from {
                community [  RT-65061:11005515  ];
            }
            then {
                accept;
            }
        }   
    }
    policy-statement PS-EXP-VoD-LDG {
                term VoD-LDG_0_0 {
                    from {
                        route-filter 0.0.0.0/0 exact;
                    }
                    then {
                        community add RT-65061:20490020;
                        accept;
                    }
                }
                term VoD-LDG_1_1 {
                    from {
                        route-filter 10.136.144.0/20 exact;
                    }
                    then {
                        community add RT-65061:20490020;
                        accept;
                    }
                }
                term VoD-LDG_2_2 {
                    from {
                        protocol [ direct ];
                    }
                    then {
                        community add RT-65061:20490020;
                        accept;
                    }
                }
    }
    policy-statement PS-IMP-VoD-LDG {
        term final {
            from {
                community [  RT-65061:20490001  RT-65061:20490002  ];
            }
            then {
                accept;
            }
        }   
    }
    community RT-65061:10170004 members target:65061:10170004;
    community RT-65061:20010007 members target:65061:20010007;
    community RT-65061:22420230 members target:65061:22420230;
    community RT-65061:20010001 members target:65061:20010001;
    community RT-65061:20010008 members target:65061:20010008;
    community RT-65061:20490001 members target:65061:20490001;
    community RT-65061:22420231 members target:65061:22420231;
    community RT-65061:20490020 members target:65061:20490020;
    community RT-65061:20020001 members target:65061:20020001;
    community RT-65061:11005515 members target:65061:11005515;
    community RT-65061:11005514 members target:65061:11005514;
    community RT-65061:20200001 members target:65061:20200001;
    community RT-65061:20490002 members target:65061:20490002;
}
class-of-service {
    classifiers {
        dscp CL-DSCP {
            forwarding-class BE {
                loss-priority low code-points 001000;
                loss-priority high code-points 000000;
            }
            forwarding-class AF {
                loss-priority low code-points 010010;
            }
            forwarding-class L1 {
                loss-priority low code-points 011010;
            }
            forwarding-class H2 {
                loss-priority low code-points 100010;
            }
            forwarding-class EF {
                loss-priority low code-points 101110;
            }
            forwarding-class NC {
                loss-priority low code-points 110000;
            }
        }
        exp CL-EXP {
            forwarding-class BE {
                loss-priority low code-points 001;
                loss-priority high code-points 000;
            }
            forwarding-class AF {
                loss-priority low code-points 010;
            }
            forwarding-class L1 {
                loss-priority low code-points 011;
            }
            forwarding-class H2 {
                loss-priority low code-points 100;
            }
            forwarding-class EF {
                loss-priority low code-points 101;
            }
            forwarding-class NC {
                loss-priority low code-points 110;
            }
        }
        ieee-802.1 CL-802.1p {
            forwarding-class BE {
                loss-priority low code-points 001;
                loss-priority high code-points 000;
            }
            forwarding-class AF {
                loss-priority low code-points 010;
            }
            forwarding-class L1 {
                loss-priority low code-points 011;
            }
            forwarding-class H2 {
                loss-priority low code-points 100;
            }
            forwarding-class EF {
                loss-priority low code-points 101;
            }
            forwarding-class NC {
                loss-priority low code-points 110;
            }
        }
        inet-precedence CL-INET-PRECEDENCE {
            forwarding-class BE {
                loss-priority low code-points 001;
                loss-priority high code-points 000;
            }
            forwarding-class AF {
                loss-priority low code-points 010;
            }
            forwarding-class L1 {
                loss-priority low code-points 011;
            }
            forwarding-class H2 {
                loss-priority low code-points 100;
            }
            forwarding-class EF {
                loss-priority low code-points 101;
            }
            forwarding-class NC {
                loss-priority low code-points 110;
            }
        }
    }
    host-outbound-traffic {
        forwarding-class NC;
        dscp-code-point 110000;
    }
    forwarding-classes {
        class BE queue-num 0;
        class AF queue-num 2;
        class NC queue-num 3;
        class L1 queue-num 4;
        class H2 queue-num 5;
        class EF queue-num 6;
    }
    interfaces { 		
        ge-0/2/7 {
            scheduler-map queue-table;
            unit 0 {
                classifiers {
                    dscp CL-DSCP;
                    exp CL-EXP;
                }
                rewrite-rules {
                    exp RW-EXP protocol mpls-any;
                }
            }
        } 		
        xe-7/0/0 {
            scheduler-map queue-table;
            unit 0 {
                classifiers {
                    dscp CL-DSCP;
                    exp CL-EXP;
                }
                rewrite-rules {
                    exp RW-EXP protocol mpls-any;
                }
            }
        }
				ae1 {
            scheduler-map queue-table;
			}
				ae2 {
            scheduler-map queue-table;
                /* unit 2410 VOD-ICMP-IP  */
                
			}
				ae4 {
            scheduler-map queue-table;
                /* unit 2410 VOD-ICMP-IP  */
                
			}
				ge-0/3/1 {
            scheduler-map queue-table;
                /* unit 2610 Trust-3G-VNP  */
                
			}
				ge-0/2/1 {
            scheduler-map queue-table;
                /* unit 2410 VOD-ICMP-IP  */
                
                /* unit 2610 Trust-3G-VNP  */
                
			}
				ge-7/2/0 {
            scheduler-map queue-table;
                /* unit 2460 VOD_MIMOSATV_IN  */
                
                /* unit 2610 Trust-3G-VNP  */
                
			}
				ge-7/2/1 {
            scheduler-map queue-table;
                /* unit 2460 VOD_MIMOSATV_IN  */
                
                /* unit 2610 Trust-3G-VNP  */
                
			}
				ge-7/3/0 {
            scheduler-map queue-table;
                /* unit 2610 Trust-3G-VNP  */
                
			}
				ge-7/3/0 {
            scheduler-map queue-table;
                /* unit 2460 VOD_MIMOSATV_IN  */
                
			}
				ge-7/2/1 {
            scheduler-map queue-table;
                /* unit 2410 VOD-ICMP-IP  */
                
                /* unit 2460 VOD_MIMOSATV_IN  */
                
			}
				ge-7/2/3 {
            scheduler-map queue-table;
                /* unit 2410 VOD-ICMP-IP  */
                
                /* unit 2460 VOD_MIMOSATV_IN  */
                
                /* unit 2610 Trust-3G-VNP  */
                
			}
				ge-7/2/5 {
            scheduler-map queue-table;
                /* unit 2460 VOD_MIMOSATV_IN  */
                
                /* unit 2610 Trust-3G-VNP  */
                
			}
				ge-7/2/6 {
            scheduler-map queue-table;
                /* unit 2410 VOD-ICMP-IP  */
                
			}
				ge-7/2/7 {
            scheduler-map queue-table;
                /* unit 2410 VOD-ICMP-IP  */
                
                /* unit 2460 VOD_MIMOSATV_IN  */
                
                /* unit 2610 Trust-3G-VNP  */
                
                /* unit 2710 Trust-3G-VNP  */
                
                /* unit 2760 Trust-3G-VNP  */
                
                /* unit 2810 Trust-3G-VNP  */
                
                /* unit 2860 Trust-3G-VNP  */
                
			}
				ge-7/2/8 {
            scheduler-map queue-table;
                /* unit 2410 VOD-ICMP-IP  */
                
			}
				ge-7/2/9 {
            scheduler-map queue-table;
                /* unit 2410 VOD-ICMP-IP  */
                
			}
            irb {
                unit 2610 {
                    no-default;
                }
                unit 2710 {
                    no-default;
                }
                unit 2810 {
                    no-default;
                }
            }
    }
    routing-instances {
        L2* {
            classifiers {
                exp CL-EXP;
            }
        }
        L3* {
            classifiers {
                exp CL-EXP;
            }
        }
    }
    rewrite-rules {
        dscp RW-DSCP {
            forwarding-class BE {
                loss-priority low code-point 001000;
                loss-priority high code-point 000000;
            }
            forwarding-class AF {
                loss-priority low code-point 010010;
            }
            forwarding-class L1 {
                loss-priority low code-point 011010;
            }
            forwarding-class H2 {
                loss-priority low code-point 100010;
            }
            forwarding-class EF {
                loss-priority low code-point 101110;
            }
            forwarding-class NC {
                loss-priority low code-point 110000;
            }
        }
        exp RW-EXP {
            forwarding-class BE {
                loss-priority low code-point 001;
                loss-priority high code-point 000;
            }
            forwarding-class AF {
                loss-priority low code-point 010;
            }
            forwarding-class L1 {
                loss-priority low code-point 011;
            }
            forwarding-class EF {
                loss-priority low code-point 101;
            }
            forwarding-class NC {
                loss-priority low code-point 110;
            }
            forwarding-class H2 {
                loss-priority low code-point 100;
            }
        }
        ieee-802.1 RW-802.1p {
            forwarding-class BE {
                loss-priority low code-point 001;
                loss-priority high code-point 000;
            }
            forwarding-class AF {
                loss-priority low code-point 010;
            }
            forwarding-class L1 {
                loss-priority low code-point 011;
            }
            forwarding-class H2 {
                loss-priority low code-point 100;
            }
            forwarding-class EF {
                loss-priority low code-point 101;
            }
            forwarding-class NC {
                loss-priority low code-point 110;
            }
        }
        inet-precedence RW-INET-PRECDENCE {
            forwarding-class BE {
                loss-priority low code-point 001;
                loss-priority high code-point 000;
            }
            forwarding-class AF {
                loss-priority low code-point 010;
            }
            forwarding-class L1 {
                loss-priority low code-point 011;
            }
            forwarding-class H2 {
                loss-priority low code-point 100;
            }
            forwarding-class EF {
                loss-priority low code-point 101;
            }
            forwarding-class NC {
                loss-priority low code-point 110;
            }
        }
    }
    scheduler-maps {
        queue-table {
            forwarding-class NC scheduler s-NC;
            forwarding-class BE scheduler s-BE;
            forwarding-class AF scheduler s-AF;
            forwarding-class L1 scheduler s-L1;
            forwarding-class H2 scheduler s-H2;
            forwarding-class EF scheduler s-EF;
        }
    }
    schedulers {
        s-NC {
            transmit-rate percent 1;
            buffer-size percent 1;
            priority high;
        }
        s-EF {
            transmit-rate percent 15;
            buffer-size percent 15;
            priority strict-high;
        }
        s-H2 {
            transmit-rate percent 30;
            buffer-size percent 30;
            priority medium-high;
        }
        s-L1 {
            transmit-rate percent 15;
            buffer-size percent 15;
            priority medium-high;
        }
        s-AF {
            transmit-rate percent 10;
            buffer-size percent 10;
            priority medium-high;
        }
        s-BE {
            transmit-rate percent 29;
            buffer-size percent 29;
            priority low;
        }
    }
}
firewall {
    family inet {
        filter RPF-ALLOW-DHCP {
            term ALLOW-DHCP-DISCOVER-REQUEST {
                from {
                    source-address {
                        0.0.0.0/32;
                    }
                    destination-address {
                        255.255.255.255/32;
                    }
                    protocol udp;
                    source-port 68;
                    destination-port 67;
                }
                then accept;
            }
            term DISCARD-ALL {          
                then {
                    discard;
                }
            }
        }
        filter PROTECT-RE-FILTER {
            term DISCARD-SMALL-PACKETS {
                from {
                    packet-length 0-24;
                }
                then {
                    count DISCARD-SMALL-PACKETS;
                    discard;
                }
            }
            term DISCARD-FIRST-FRAG {
                from {
                    first-fragment;
                }
                then {
                    count DISCARD-FIRST-FRAG;
                    inactive: syslog;
                    discard;
                }
            }
            term DISCARD-NEXT-FRAG {
                from {
                    is-fragment;
                }
                then {
                    count DISCARD-NEXT-FRAG;
                    inactive: syslog;
                    discard;
                }
            }
            term ACCEPT-BFD {
                from {
                    source-prefix-list {
                        INTERFACE-PREFIXES;
                        INTERNAL-LO0-PREFIXES;
                    }
                    protocol udp;
                    destination-port [ 3784-3785 4784 ];
                }
                then {
                    count ACCEPT-BFD;
                    accept;
                }
            }
            term ACCEPT-LDP-DISCOVER {
                from {
                    source-prefix-list {
                        INTERFACE-PREFIXES;
                        INTERNAL-LO0-PREFIXES;
                    }
                    protocol udp;
                    port ldp;
                }
                then {
                    count ACCEPT-LDP-DISCOVER;
                    accept;
                }
            }
            term ACCEPT-LDP-UNICAST {
                from {
                    source-prefix-list {
                        INTERFACE-PREFIXES;
                        INTERNAL-LO0-PREFIXES;
                    }
                    protocol tcp;
                    port ldp;
                }
                then {
                    count ACCEPT-LDP-UNICAST;
                    accept;
                }
            }
            term ACCEPT-RSVP {
                from {
                    source-prefix-list {
                        INTERFACE-PREFIXES;
                        INTERNAL-LO0-PREFIXES;
                    }
                    protocol rsvp;
                }
                then {
                    count ACCEPT-RSVP;
                    accept;
                }
            }
            term ACCEPT-BGP {
                from {
                    source-prefix-list {
                        BGP-NEIGHBORS;
                        BGP-NEIGHBORS-RI;
                    }
                    protocol tcp;
                    port bgp;
                }
                then {
                    count ACCEPT-BGP;
                    accept;
                }
            }
            term ACCEPT-PIM {
                from {
                    source-prefix-list {
                        INTERFACE-PREFIXES;
                    }
                    protocol pim;
                }
                then {
                    policer POLICER-PIM;
                    count ACCEPT-PIM;
                    accept;
                }
            }
            term DISCARD-IGMP-QUERY {
                from {
                    destination-address {
                        224.0.0.1/32;
                    }
                    protocol igmp;
                }
                then {
                    count DISCARD-IGMP-QUERY;
                    discard;
                }
            }
            term ACCEPT-IGMP-REPORT {
                from {
                    protocol igmp;
                }
                then {
                    policer POLICER-IGMP-REPORT;
                    count ACCEPT-IGMP-REPORT;
                    accept;
                }
            }
            term ACCEPT-DHCP {
                from {
                    protocol udp;
                    port [ 67 68 ];
                }
                then {
                    count ACCEPT-DHCP;
                    accept;
                }
            }
            term ACCEPT-OSPF {
                from {
                    source-prefix-list {
                        INTERFACE-PREFIXES;
                    }
                    protocol ospf;
                }
                then {
                    count ACCEPT-OSPF;
                    accept;
                }
            }
            term ACCEPT-RIP {
                from {
                    destination-address {
                        224.0.0.9/32;
                    }
                    source-prefix-list {
                        INTERFACE-PREFIXES;
                    }
                    protocol udp;
                    source-port rip;
                    destination-port rip;
                }
                then {
                    count ACCEPT-RIP;
                    accept;
                }
            }
            term ACCEPT-VRRP {
                from {
                    destination-address {
                        224.0.0.18/32;
                    }
                    source-prefix-list {
                        INTERFACE-PREFIXES;
                    }
                    protocol vrrp;
                }
                then {
                    policer POLICER-VRRP;
                    count ACCEPT-VRRP;
                    accept;
                }
            }
            term ACCEPT-TELNET-SSH {
                from {
                    source-prefix-list {
                        MGMT-PREFIXES;
                        INTERNAL-NNI-PREFIXES;
                        INTERNAL-LO0-PREFIXES;
                    }
                    protocol tcp;
                    port [ ssh telnet ];
                }
                then {
                    policer POLICER-TELNET-SSH;
                    count ACCEPT-TELNET-SSH;
                    accept;
                }
            }
			/* Allow telnet/ssh out from router to L2 access devices*/
			term ACCEPT-TELNET-SSH-OUT {
				from {
					source-prefix-list {
						L2ACCESS-PREFIXES;
					}
					protocol tcp;
					source-port [ ssh telnet ];
				}
				then {
					policer POLICER-TELNET-SSH;
					count ACCEPT-TELNET-SSH-OUT;
					accept;
				}
			}			
            term ACCEPT-NETCONF {
                from {
                    source-prefix-list {
                        MGMT-PREFIXES;
                    }
                    protocol tcp;
                    destination-port 830;
                }
                then {
                    count ACCEPT-NETCONF;
                    accept;
                }
            }
            term ACCEPT-FTP {
                from {
                    source-prefix-list {
                        MGMT-PREFIXES;
                    }
                    protocol tcp;
                    port [ ftp ftp-data ];
                }
                then {
                    policer POLICER-FTP;
                    count ACCEPT-FTP;
                    accept;
                }
            }
            term ACCEPT-SNMP {
                from {
                    source-prefix-list {
                        SNMP-CLIENT-PREFIXES;
                    }
                    protocol udp;
                    destination-port snmp;
                }
                then {
                    count ACCEPT-SNMP;
                    accept;
                }
            }
            term ACCEPT-NTP {
                from {
                    source-prefix-list {
                        NTP-SERVER;
                        NTP-SOURCE-ADDRESS;
                    }
                    protocol udp;
                    port ntp;
                }
                then {
                    count ACCEPT-NTP;
                    accept;
                }
            }
            /* Use only on NTP Server: P-HBT1 and P-TBI1 */
            inactive: term ACCEPT-NTP-SERVER {
                from {
                    prefix-list {
                        INTERNAL-LO0-PREFIXES;
                    }
                    protocol udp;
                    destination-port ntp;
                }
                then {
                    count ACCEPT-NTP-SERVER;
                    accept;
                }
            }
            term DISCARD-NTP {
                from {
                    protocol udp;
                    port ntp;
                }
                then {
                    count DISCARD-NTP;
                    inactive: syslog;
                    discard;
                }
            }
            term ACCEPT-TACACS {
                from {
                    source-prefix-list {
                        TACACS-SERVERS;
                    }
                    protocol [ tcp udp ];
                    source-port [ tacacs tacacs-ds ];
                }
                then {
                    count ACCEPT-TACACS;
                    accept;
                }
            }
            term ACCEPT-ICMP-INTERNAL {
                from {
                    source-prefix-list {
                        MGMT-PREFIXES;
                        INTERNAL-NNI-PREFIXES;
                        INTERNAL-LO0-PREFIXES;
                    }
                    protocol icmp;
                    icmp-type [ echo-request echo-reply time-exceeded unreachable ];
                }
                then {
                    policer POLICER-ICMP-INTERNAL;
                    count ACCEPT-ICMP-INTERNAL;
                    accept;
                }
            }
            term ACCEPT-ICMP-EXTERNAL {
                from {
                    protocol icmp;
                    icmp-type [ echo-request echo-reply time-exceeded unreachable ];
                }
                then {
                    policer POLICER-ICMP-EXTERNAL;
                    count ACCEPT-ICMP-EXTERNAL;
                    accept;
                }
            }
            term ACCEPT-LSP-PING {
                from {
                    source-prefix-list {
                        INTERNAL-NNI-PREFIXES;
                        INTERNAL-LO0-PREFIXES;
                    }
                    protocol udp;
                    port 3503;
                }
                then {
                    count ACCEPT-LSP-PING;
                    accept;
                }
            }
            term ACCEPT-TRACEROUTE-UDP {
                from {
                    protocol udp;
                    ttl 1;
                    destination-port 33434-33523;
                }
                then {
                    policer POLICER-TRACEROUTE-UDP;
                    count ACCEPT-TRACEROUTE-UDP;
                    accept;
                }
            }
            term ACCEPT-GRE {
                from {
                    protocol gre;
                }
                then {
                    policer POLICER-GRE;
                    count ACCEPT-GRE;
                    accept;
                }
            }
            term DISCARD-ALL {
                then {
                    count DISCARD-ALL;
                    inactive: syslog;
                    discard;
                }
            }
        }
    }
    family vpls {
            filter BUM-3G_VMS_IUP_1016 {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-3G_VMS_IUP_1035 {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-3G_VMS_IUP_1618 {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-3G_VMS_MUP_2016 {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-3G_VMS_MUP_2035 {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-3G_VMS_SIU_3806 {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-3G_VMS_SIU_3808 {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-3G_VNP_IUP_2710 {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-3G_VNP_MUP_2618 {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-3G_VNP_MUP_2735 {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-AGRIBANK-LDG-NT {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-BD_TW {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-DSLAM_NMS {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-DSLAM_NMS1 {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-EP_VNPTLDG_test {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-GPON_4000 {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-GPON_ALCATEL_NMS {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-MXU_NMS {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-NMS_OSN_VL13 {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-SWL2_FTTH_960 {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-SWL2_FTTH_960_2 {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-SWL2_LAG1_TANHA {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-SWL2_NMS {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-VODMIMOSATV {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-VLAN-2418 {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-VLAN-2610 {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-VLAN-2710 {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-VLAN-2760 {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-VLAN-2805 {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-VLAN-2810 {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-VLAN-2855 {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
            filter BUM-VLAN-2860 {
                term broadcast-traffic {
                    from {
                        traffic-type broadcast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
                term multicast-traffic {
                    from {
                        traffic-type multicast;
                    }
                    then {
                        policer POLICER-MCAST;
                        accept;
                    }
                }
                term unknown-unicast-traffic {
                    from {
                        traffic-type unknown-unicast;
                    }
                    then {
                        policer POLICER-BCAST;
                        accept;
                    }
                }
            }
    }
    policer POLICER-PIM {
        if-exceeding {
            bandwidth-limit 1m;
            burst-size-limit 128k;
        }
        then discard;
    }
    policer POLICER-IGMP-REPORT {
        if-exceeding {
            bandwidth-limit 1m;
            burst-size-limit 15k;
        }
        then discard;
    }
    policer POLICER-VRRP {
        if-exceeding {
            bandwidth-limit 1m;
            burst-size-limit 128k;
        }
        then discard;
    }
    policer POLICER-TELNET-SSH {
        if-exceeding {
            bandwidth-limit 2m;
            burst-size-limit 75k;
        }
        then discard;
    }
    policer POLICER-FTP {
        if-exceeding {
            bandwidth-limit 10m;
            burst-size-limit 320k;
        }
        then discard;
    }
    policer POLICER-ICMP-INTERNAL {
        if-exceeding {
            bandwidth-limit 3m;
            burst-size-limit 15k;
        }
        then discard;
    }
    policer POLICER-ICMP-EXTERNAL {
        if-exceeding {
            bandwidth-limit 2m;
            burst-size-limit 15k;
        }
        then discard;
    }
    policer POLICER-TRACEROUTE-UDP {
        if-exceeding {
            bandwidth-limit 1m;
            burst-size-limit 125k;
        }
        then discard;
    }
    policer POLICER-GRE {
        if-exceeding {
            bandwidth-limit 256k;
            burst-size-limit 15k;
        }
        then discard;
    }
    policer POLICER-MCAST{
        if-exceeding {
            bandwidth-limit 512k;
            burst-size-limit 512k;
        }
        then discard;
    }
    policer POLICER-BCAST{
        if-exceeding {
            bandwidth-limit 512k;
            burst-size-limit 512k;
        }
        then discard;
    }
}

routing-instances {
    L3-ENODEB-OAM {
        instance-type vrf;
        route-distinguisher 65061:2074808020;
        vrf-import PS-IMP-ENODEB-OAM;
        vrf-export PS-EXP-ENODEB-OAM;
        vrf-table-label;
        routing-options {
            auto-export;
			protect core;            
        }
        
    }
    L3-ENODEB-SERVICE {
        instance-type vrf;
        interface irb.2710;
        interface irb.2810;
        route-distinguisher 65061:2074807020;
        vrf-import PS-IMP-ENODEB-SERVICE;
        vrf-export PS-EXP-ENODEB-SERVICE;
        vrf-table-label;
        routing-options {
            auto-export;
			protect core;            
        }
        
    }
    L3-IUB-3G-L3-VNP {
        instance-type vrf;
        interface irb.2610;
        route-distinguisher 65061:2074801020;
        vrf-import PS-IMP-IUB-3G-L3-VNP;
        vrf-export PS-EXP-IUB-3G-L3-VNP;
        vrf-table-label;
        routing-options {
            auto-export;
			protect core;
            	static {
                    route 10.208.34.216/29 {
							qualified-next-hop 10.209.42.173;
                    }
                    route 10.208.42.112/29 {
							qualified-next-hop 10.209.42.167;
                    }
                    route 10.208.42.120/29 {
							qualified-next-hop 10.209.42.168;
                    }
                    route 10.208.42.128/29 {
							qualified-next-hop 10.209.42.169;
                    }
                    route 10.208.42.72/29 {
							qualified-next-hop 10.209.42.164;
                    }
                    route 10.208.42.80/29 {
							qualified-next-hop 10.209.42.165;
                    }
                    route 10.208.42.96/29 {
							qualified-next-hop 10.209.42.166;
                    }
                    route 10.208.44.40/29 {
							qualified-next-hop 10.209.42.170;
                    }
                    route 10.208.44.48/29 {
							qualified-next-hop 10.209.42.171;
                    }
                    route 10.208.50.120/29 {
							qualified-next-hop 10.209.42.172;
                    }
                }            
        }
        
    }
    L3-TSLCD-KHOICHINHQUYEN-2990 {
        instance-type vrf;
        route-distinguisher 65061:2242023001;
        vrf-import PS-IMP-TSLCD-KHOICHINHQUYEN-2990;
        vrf-export PS-EXP-TSLCD-KHOICHINHQUYEN-2990;
        vrf-table-label;
        routing-options {
            auto-export;
			protect core;            
        }
        
    }
    L3-VPRN-306100004 {
        instance-type vrf;
        description ""VPRN-306100004,DBSCLBANK-NT-LDG (MHB)-NEW BIDV"";
        interface ge-7/2/7.1859;
        route-distinguisher 65061:202000004;
        vrf-import PS-IMP-VPRN-306100004;
        vrf-export PS-EXP-VPRN-306100004;
        vrf-table-label;
        routing-options {
            auto-export;
			protect core;            
        }
        
    }
    L3-VPRN-311005514 {
        instance-type vrf;
        description "##NMS CPE##";
        interface ae1.4002;
        interface ae2.4002;
        interface ae4.4002;
        route-distinguisher 65061:1100550020;
        vrf-import PS-IMP-VPRN-311005514;
        vrf-export PS-EXP-VPRN-311005514;
        vrf-table-label;
        routing-options {
            auto-export;
			protect core;
            	static {
                    route 10.91.136.0/21 {
							qualified-next-hop 172.18.176.242;
                    }
                    route 10.91.144.0/21 {
							qualified-next-hop 172.18.176.250;
                    }
                    route 10.91.152.0/21 {
							qualified-next-hop 172.18.176.254;
                    }
                }            
        }
        
    }
    L3-VoD-LDG {
        instance-type vrf;
        interface ae1.2410;
        interface ae2.2410;
        interface ae4.2410;
        interface ge-0/2/1.2410;
        interface ge-7/2/0.2410;
        interface ge-7/2/1.2410;
        interface ge-7/3/0.2410;
        interface ge-7/3/0.2410;
        interface ge-7/2/1.2410;
        interface ge-7/2/3.2410;
        interface ge-7/2/5.2410;
        interface ge-7/2/6.2410;
        interface ge-7/2/7.2410;
        interface ge-7/2/8.2410;
        interface ge-7/2/9.2410;
        interface lo0.2410;
        route-distinguisher 65061:2099801020;
        vrf-import PS-IMP-VoD-LDG;
        vrf-export PS-EXP-VoD-LDG;
        vrf-table-label;
        routing-options {
            auto-export;
			protect core;
            	static {
                    route 10.49.32.0/19 {
							discard;
                    }
                }            
        }
		forwarding-options {
            dhcp-relay {
                server-group  {
                    server-1 {
                        172.16.9.2;
                    }
                }
                group interface-1 {
                    active-server-group server-1;
                    interface ae1.2410;
                    interface ae2.2410;
                    interface ae4.2410;
                    interface ge-0/2/1.2410;
                    interface ge-7/2/0.2410;
                    interface ge-7/2/1.2410;
                    interface ge-7/3/0.2410;
                    interface ge-7/3/0.2410;
                    interface ge-7/2/1.2410;
                    interface ge-7/2/3.2410;
                    interface ge-7/2/5.2410;
                    interface ge-7/2/6.2410;
                    interface ge-7/2/7.2410;
                    interface ge-7/2/8.2410;
                    interface ge-7/2/9.2410;
                }
            }
        }
        
    }
        L2-3G_VMS_IUP_1016 {
            instance-type vpls;
                interface ge-0/2/1.1016;
                interface ge-7/2/0.1016;
                interface ge-7/3/0.1016;
                interface ge-7/3/0.1016;
                interface ge-7/2/3.1016;
                interface ge-7/2/5.1016;
                interface ge-7/2/7.1016;
                interface ge-7/2/8.1016;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-3G_VMS_IUP_1016;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1600011016;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-3G_VMS_IUP_1035 {
            instance-type vpls;
                interface ge-7/3/0.1035;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-3G_VMS_IUP_1035;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1600011035;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-3G_VMS_IUP_1618 {
            instance-type vpls;
                interface ge-7/3/0.1618;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-3G_VMS_IUP_1618;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1600011618;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-3G_VMS_MUP_2016 {
            instance-type vpls;
                interface ge-0/2/1.2016;
                interface ge-7/2/0.2016;
                interface ge-7/3/0.2016;
                interface ge-7/3/0.2016;
                interface ge-7/2/3.2016;
                interface ge-7/2/5.2016;
                interface ge-7/2/7.2016;
                interface ge-7/2/8.2016;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-3G_VMS_MUP_2016;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1600012016;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-3G_VMS_MUP_2035 {
            instance-type vpls;
                interface ge-7/3/0.2035;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-3G_VMS_MUP_2035;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1600012035;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-3G_VMS_SIU_3806 {
            instance-type vpls;
                interface ge-7/3/0.3806;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-3G_VMS_SIU_3806;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1600013806;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-3G_VMS_SIU_3808 {
            instance-type vpls;
                interface ge-7/2/8.3808;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-3G_VMS_SIU_3808;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1600013808;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-3G_VNP_IUP_2710 {
            instance-type vpls;
                interface ge-7/3/0.2710;
                interface ge-7/3/0.2710;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-3G_VNP_IUP_2710;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1600010710;
                        mesh-group NO-SPLIT {
                            local-switching;
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                                neighbor 123.29.47.2 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-3G_VNP_MUP_2618 {
            instance-type vpls;
                interface ge-7/3/0.2618;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-3G_VNP_MUP_2618;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1600012618;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-3G_VNP_MUP_2735 {
            instance-type vpls;
                interface ge-7/3/0.2735;
                interface ge-7/3/0.2735;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-3G_VNP_MUP_2735;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1600010720;
                        mesh-group NO-SPLIT {
                            local-switching;
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                                neighbor 123.29.47.2 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-AGRIBANK-LDG-NT {
            instance-type vpls;
                interface ge-7/3/0.1402;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-AGRIBANK-LDG-NT;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1600100190;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-BD_TW {
            instance-type vpls;
                interface ge-7/2/1.2700;
                interface ge-7/2/3.2700;
                interface ge-7/2/5.2700;
                interface ge-7/2/6.2700;
                interface ge-7/2/8.2700;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-BD_TW;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1600107770;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-DSLAM_NMS {
            instance-type vpls;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-DSLAM_NMS;
                    }
                }
            }
            protocols {
                 inactive: vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1600109990;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-DSLAM_NMS1 {
            instance-type vpls;
                interface ge-7/2/1.3999;
                interface ge-7/2/1.3999;
                interface ge-7/2/3.3999;
                interface ge-7/2/5.3999;
                interface ge-7/2/6.3999;
                interface ge-7/2/7.3999;
                interface ge-7/2/8.3999;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-DSLAM_NMS1;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1600109991;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-EP_VNPTLDG_test {
            instance-type vpls;
                interface ge-7/3/0.2399;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-EP_VNPTLDG_test;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1701808880;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-GPON_4000 {
            instance-type vpls;
                interface ae1.3000;
                interface ae2.3000;
                interface ae4.3000;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-GPON_4000;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1600169990;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-GPON_ALCATEL_NMS {
            instance-type vpls;
                interface ae1.3991;
                interface ae2.3991;
                interface ae4.3991;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-GPON_ALCATEL_NMS;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1600119970;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-MXU_NMS {
            instance-type vpls;
                interface ge-7/2/1.3994;
                interface ge-7/3/0.3994;
                interface ge-7/2/9.3994;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-MXU_NMS;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1600109930;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-NMS_OSN_VL13 {
            instance-type vpls;
                interface ge-7/3/0.13;
                interface ge-7/3/0.13;
                interface ge-7/2/8.13;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-NMS_OSN_VL13;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1600100020;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-SWL2_FTTH_960 {
            instance-type vpls;
            description "** Connect to BRAS MX960 - 1/4 **";
                interface ge-0/2/1.1120;
                interface ge-7/2/0.1110;
                interface ge-7/2/1.1110;
                interface ge-7/3/0.1110;
                interface ge-7/3/0.1210;
                interface ge-7/3/0.1110;
                interface ge-7/2/3.1110;
                interface ge-7/2/3.1120;
                interface ge-7/2/5.1110;
                interface ge-7/2/6.1110;
                interface ge-7/2/7.1120;
                interface ge-7/2/9.1110;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-SWL2_FTTH_960;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1102010160;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                                neighbor 123.29.47.2 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-SWL2_FTTH_960_2 {
            instance-type vpls;
            description "** Connect to BRAS MX960_2 - 0/0 **";
                interface ge-7/2/1.1120;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-SWL2_FTTH_960_2;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1102019600;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                                neighbor 123.29.47.2 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-SWL2_LAG1_TANHA {
            instance-type vpls;
                interface ae1.3620;
                interface ge-7/3/0.3620;
                interface ge-7/2/7.3620;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-SWL2_LAG1_TANHA;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1402010020;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-SWL2_NMS {
            instance-type vpls;
                interface ge-0/2/1.3996;
                interface ge-7/2/0.3996;
                interface ge-7/2/1.3996;
                interface ge-7/3/0.3996;
                interface ge-7/3/0.3996;
                interface ge-7/2/3.3996;
                interface ge-7/2/5.3996;
                interface ge-7/2/7.3996;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-SWL2_NMS;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1600109980;
                        mesh-group SPLIT {
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-VODMIMOSATV {
            instance-type vpls;
                interface ge-7/2/0.2460;
                interface ge-7/2/1.2460;
                interface ge-7/3/0.2460;
                interface ge-7/2/1.2460;
                interface ge-7/2/3.2460;
                interface ge-7/2/5.2460;
                interface ge-7/2/6.2460;
                interface ge-7/2/7.2460;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-VODMIMOSATV;
                    }
                }
            }
            protocols {
                 vpls {
                    bum-hashing;
                    encapsulation-type ethernet-vlan;
                    no-tunnel-services;
                    mtu 1500;
                    vpls-id 1202000980;
                        mesh-group NO-SPLIT {
                            local-switching;
                                neighbor 123.29.47.1 {
                                    pseudowire-status-tlv;
                                }
                                neighbor 123.29.47.2 {
                                    pseudowire-status-tlv;
                                }
                        }
                }
            }
        }
        L2-VLAN-2418 {
            instance-type vpls;
                interface ge-7/2/5.2418;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-VLAN-2418;
                    }
                }
            }
        }
        L2-VLAN-2610 {
            instance-type vpls;
                interface ge-0/3/1.2610;
                interface ge-0/2/1.2610;
                interface ge-7/2/0.2610;
                interface ge-7/2/1.2610;
                interface ge-7/3/0.2610;
                interface ge-7/3/0.2610;
                interface ge-7/2/3.2610;
                interface ge-7/2/5.2610;
                interface ge-7/2/7.2610;      
                routing-interface irb.2610;
                vlan-id none;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-VLAN-2610;
                    }
                }
            }
        }
        L2-VLAN-2710 {
            instance-type vpls;
                interface ge-7/2/7.2710;      
                routing-interface irb.2710;
                vlan-id none;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-VLAN-2710;
                    }
                }
            }
        }
        L2-VLAN-2760 {
            instance-type vpls;
                interface ge-7/2/7.2760;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-VLAN-2760;
                    }
                }
            }
        }
        L2-VLAN-2805 {
            instance-type vpls;
                interface ge-7/2/7.2805;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-VLAN-2805;
                    }
                }
            }
        }
        L2-VLAN-2810 {
            instance-type vpls;
                interface ge-7/2/7.2810;      
                routing-interface irb.2810;
                vlan-id none;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-VLAN-2810;
                    }
                }
            }
        }
        L2-VLAN-2855 {
            instance-type vpls;
                interface ge-7/2/7.2855;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-VLAN-2855;
                    }
                }
            }
        }
        L2-VLAN-2860 {
            instance-type vpls;
                interface ge-7/2/7.2860;
            forwarding-options {
                family vpls {
                    flood {
                        input BUM-VLAN-2860;
                    }
                }
            }
        }
}